{"version":3,"sources":["webpack://VueTableCanvasTcsl/webpack/universalModuleDefinition","webpack://VueTableCanvasTcsl/webpack/bootstrap","webpack://VueTableCanvasTcsl/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://VueTableCanvasTcsl/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://VueTableCanvasTcsl/./src/grid/img/ic_sort_1.png","webpack://VueTableCanvasTcsl/./src/grid/img/ic_sort_2.png","webpack://VueTableCanvasTcsl/./src/grid/img/ic_sort_0.png","webpack://VueTableCanvasTcsl/./src/grid/img/ic_pin.png","webpack://VueTableCanvasTcsl/./src/grid/img/ic_pin_sel.png","webpack://VueTableCanvasTcsl/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://VueTableCanvasTcsl/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://VueTableCanvasTcsl/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://VueTableCanvasTcsl/./src/grid/painted.js","webpack://VueTableCanvasTcsl/./src/grid/tools.js","webpack://VueTableCanvasTcsl/./src/grid/events.js","webpack://VueTableCanvasTcsl/./src/grid/calculate.js","webpack://VueTableCanvasTcsl/./src/grid/scroller.js","webpack://VueTableCanvasTcsl/./src/grid/utils.js","webpack://VueTableCanvasTcsl/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","obj","configurable","writable","Array","isArray","arr2","length","iter","iterator","toString","from","TypeError","tableColor","purple","bodyBGColor","bodyColor","headerColor","textColor","borderColor","white","shadowColor","fillColor","headFillColor","buttonColor","TotleColor","selectColor","selectAreaColor","selectRowColor","dotColor","stripeColor","purpleNight","data","naturalOrder","Image","src","require","stringsIcon","DescendingIcon","unfixedIcon","fixedIcon","one","devicePixelRatio","fontSize","this","platform","theme","lineWidth","halfLineWidth","isLoading","blodFont","normalFont","methods","initCanvas","canvas","$refs","ctx","getContext","font","setbodyWidth","clearAllCells","setAllCells","setBodyHeight","allRows","originPoint","initSize","setMaxpoint","width","height","scrollerWidth","resetScrollBar","maxPoint","bodyWidth","bodyHeight","fixedWidth","rePainted","items","initDisplayItems","clearPainted","painted","clearRect","displayColumns","displayRows","displayCells","displayFixedCells","fillStyle","textAlign","strokeStyle","textBaseline","paintBGColor","paintStripeBGC","paintBGC","paintLine","paintBody","oneOption","rowColSwap","paintHeader","fillWidth","paintFixedCells","painScroller","yy","y","fillRect","x","rowHeight","serialWidth","toolbarHeight","beginPath","forEach","column","index","fixed","moveTo","dpr","lineTo","item","stroke","paintCellBGColor","color","paintText","paintUnderline","rows","content","isInTotal","rowData","indexOf","cellBgColor","tmpColor","cellFontColor","isX","canJump","yushu","rowIndex","cellIndex","rainbow","isZongJi","row","b","res","fillText","measureText","paintHeadWord","newArr","getHeaderTree","JSON","parse","stringify","allColumns","fixedColumns","Hierarchy","lastDisplayColumn","fixedColumnsWidth","restore","cellX","cellX2","stripe","col","sortIcon","fixedIc","isSort","title","child","element","drawImage","isShowIcon","temp","Math","round","throttle","delay","noTrailing","callback","debounceMode","timeoutID","lastExec","undefined","self","elapsed","Number","Date","args","arguments","exec","apply","clearTimeout","setTimeout","isFirefox","throttleHandleResize","refresh","dropdownObj","v_show","top","left","activeSelect","created","navigator","userAgent","toLowerCase","watch","retract","handleResize","preventEvent","event","preventDefault","stopPropagation","removeEvent","removeEventListener","handleMousedown","handleMousemoveAPP","handleMouseup","initEvent","addEventListener","handleClickAPP","reference","doubleHandleClick","handleTouchmove","handleClickPC","handleMousemovePC","handleMouseOver","handleWheel","handleContextmenu","e","horizontalBar","size","cursorX","touches","screenX","verticalBar","cursorY","screenY","evt","offsetX","offsetY","headColumn","bodyColumn","getHeadWord","getDrillObj","displayallFixedCells","map","v","requestAnimationFrame","style","cursor","clearInterval","offset","columns","setOption","option","target","tagName","isEditing","deltaX","deltaY","abs","lastScrollX","maxWidth","returnValue","$emit","lastScrollY","move","moveHeight","k","moveWidth","headSortIcon","getSortHeadIcon","sortCallback","drillObj","demensionId","headFixedIcon","getFixedHeadIcon","findIndex","context","selectedJobNode","assign","allCells","displayLayeredColumns","allFixedCells","tempTargetName","calculationWidth","sort","a","grid","offsetWidth","defaultWidth","offsetHeight","defaultHeight","compare_names","getAllCellsPC","startIndex","getTextLine","targetName","keys","ii","maxHeight","cellTemp","startX","push","checked","fieldId","textLine","text","pres","indexCondition","val","fieldGroup","aggregatorFlag","aliasName","aggregatorName","parseFloat","numDisplayed","dimensionCondition","isInDim","dim","fieldDescription","isInIndex","ind","textLineCount","renderText","type","isChangeBgFontColor","max","cell","uniqueId","reduce","getAllCellsAPP","columnCount","first","loadNum","maxCeLL","allData","maxIndex","headerTree","headerTreeIsX","filter","isFirst","num","slice","getDisplayColumns","getDisplayRows","getDisplayCells","getDisplayFixedCells","columnClone","startY","rowClone","cellClone","dealColorOption","twoOption","compare_values","fixedCell","fixedCellTemp","fixedCellClone","destroyed","$on","parseInt","scroll","dragMove","horizontalRatio","verticalRatio","addingUnit","state","unit","fmoney","dec","commas","chr","split","nVal","f","sub","substring","flag","replace","toFixed","source","str","RegExp","join","selectColumn","digui","position","rgbToHex","g","hex","hexToRgb","rgb","gradient","startColor","endColor","step","sColor","eColor","rStep","gStep","bStep","gradientColorArr","uniqId","colorType","dealColorOnly","min","colorStepConfig","dealColorStep","fun","tmp","bgColor","fontColor","compare","colorArr","floor","events","calculate","scroller","utils"],"mappings":"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","file":"build.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VueTableCanvasTcsl\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueTableCanvasTcsl\"] = factory();\n\telse\n\t\troot[\"VueTableCanvasTcsl\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAgMAAADxkFD+AAAADFBMVEVHcEyPkJKPkJKPkJJJDUyzAAAAA3RSTlMAf4C/aSLHAAAAY0lEQVQYGbXBMQGAIBRF0QsLAyGMYAWaSTMrEIEQDi76RL8/gIPn8KdQcKnhpg23HLyCVDBJaphJ2jCLdPAIGgq3pKHxVdbQuUUNlccqnZhZ2jFZ6pgoVV7riZt3XO64WPnRBbUeMlZhqIz7AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAD1BMVEVHcEyPkJKPkJKPkJKPkJKfDcFpAAAABHRSTlMAgH9AjN1ZswAAAGVJREFUKM/V0skNwCAMRFGEK0DTQA4ugLRguf+asgBSwHPNAR+/HmIRKe02+SBRjUD3SNXdCIxUn2gErlRbNAJnqiPazy90lj74RBmxEoppvRDYKZathMCXIpxKCLwpyAWkbvcrL2KLEkTDxZqDAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAgMAAADxkFD+AAAADFBMVEVHcEyPkJKPkJKPkJJJDUyzAAAAA3RSTlMAgEC3KR0FAAAAZklEQVQYGbXBsRGAIAxA0Q8NxxRW7sES8SzZRJZwL4ax9SIaM4CF7/Gn2HC54uYVty+8okjDZJGKmUVWzC6y8IgyNG5ZhspXSYfOLehQeGyqJ2ZSPTBJtWOCauG1nbjpwKWOC4UfXV6wIzioq5IqAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABBVBMVEVHcEyPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJKPkJJGD/YDAAAAVnRSTlMAQPMMSOsYBwb7WuRRHi3h7O4EOPWd4Mj2Cb1dYlN6l862bHMFkvKk3tD975bHEGn8yyrqewI/Ixt+/kcps8kyORK01m2TwxN9UKqONPDa03LACGrM3RgwDPIAAADiSURBVBgZ7cEFdsJQAEXBBwR317q7u1B3l7v/pfSEFskpP2EBzGioZbcU/8xpAAvAq0/evrA9JOUlH8dWuavKQ6BMSzohd0fr/KltykUySEd0TUaRU3o8y2iZtuAhzKuP89h9WHU66vmL2pn+e8pA+q1AW7aq/lZwupZBBaeUDMZxKMvE56dXQ0Z7J3TNBuTCeqGtsB2Wi8gcHTcRmX2U6IrJbBTIbPDrQEYhPzC509jCZsmoCFzmpNXHKIzJqLkIWLLtJ1Iyewcm5G0EiB7LU/gbmJG36aklsrcaRKh4pSGHH1zRWDRbpKbnAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABAlBMVEVHcEx7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePJ7ePKFG6eUAAAAVXRSTlMA7p0JBmL1+wdI4L1AyBjrDB7kWlHs9i04BMzh810qMtDJ7znyNGlT6nICbdOqfs60wPx93doStpPVe2xQ/Y4Q8BMIP2r+w3Ok3scFI5KWKZdHs3obBIW0xAAAAOJJREFUGBntwQVWw1AARcFXd3fD3d2huDvc/W+Fk0La5tCfdAGd0UjHVTx/XdMQJoCVpLzVsazm5KWax1LeDshDNkVHoyh3H1v8SYzJRS5DV2RORsFJ+pzL6BVb5gYeNMBe4SSqFl2t6kZiWv/NlqCxGMbmC2iwR5wOZFDGqSKDdRxSMkk26ReS0fMnPTNZuYjtYgsfReUieE/XbVBml3F6CjL7Akp1fq3JKN0EjpdCC1hiMvIDhzWpfRaBdxmNnwIxWb6LFZltAvvyNg9E3uQpugO8yNvT3RS+Cw0j7V/WiMMP3QlXJYXMqtQAAAAASUVORK5CYII=\"","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","let tableColor = {\r\n  purple: {\r\n    bodyBGColor: '#ffffff',\r\n    bodyColor: '#333333',\r\n    headerColor: '#333333',\r\n    textColor: '#666666',\r\n    borderColor: '#E1E2E6',\r\n    white: '#ffffff',\r\n    shadowColor: 'rgba(0,0,0,0.2)',\r\n    fillColor: '#f9f9f9',\r\n    headFillColor: '#F7F9FC',\r\n    buttonColor: '#20a0ff',\r\n    TotleColor: '#E6ECF5',\r\n    selectColor: '#6bc9ff',\r\n    selectAreaColor: 'rgba(160, 195, 255, 0.2)',\r\n    selectRowColor: '#f6f6f6',\r\n    dotColor: '#74d337',\r\n    stripeColor: '#f7f9fc'\r\n  },\r\n  purpleNight: {\r\n    bodyBGColor: '#272e42',\r\n    bodyColor: '#FEFEFE', // 背景的颜色\r\n    headerColor: '#ffffff',\r\n    textColor: '#FEFEFE',\r\n    borderColor: '#10141b',\r\n    white: '#272e42',\r\n    shadowColor: 'rgba(0,0,0,0.2)',\r\n    fillColor: '#f9f9f9',\r\n    headFillColor: '#303952',\r\n    buttonColor: '#20a0ff',\r\n    TotleColor: '#757d94',\r\n    selectColor: '#6bc9ff',\r\n    selectAreaColor: 'rgba(160, 195, 255, 0.2)',\r\n    selectRowColor: '#f6f6f6',\r\n    dotColor: '#74d337',\r\n    stripeColor: '#303952'\r\n  }\r\n};\r\n\r\nexport default {\r\n  data () {\r\n    const naturalOrder = new window.Image();\r\n    naturalOrder.src = require('./img/ic_sort_1.png');\r\n    const stringsIcon = new window.Image();\r\n    stringsIcon.src = require('./img/ic_sort_2.png');\r\n    const DescendingIcon = new window.Image();\r\n    DescendingIcon.src = require('./img/ic_sort_0.png');\r\n    const unfixedIcon = new window.Image();\r\n    unfixedIcon.src = require('./img/ic_pin.png');\r\n    const fixedIcon = new window.Image();\r\n    fixedIcon.src = require('./img/ic_pin_sel.png');\r\n    let one = 1 * window.devicePixelRatio;\r\n    const fontSize = (this.platform === 'APP' ? 12 : 14) * window.devicePixelRatio || 1;\r\n    return {\r\n      theme: 'purple',\r\n      fontSize,\r\n      stringsIcon,\r\n      DescendingIcon,\r\n      naturalOrder,\r\n      unfixedIcon,\r\n      fixedIcon,\r\n      lineWidth: one,\r\n      halfLineWidth: one / 2,\r\n      isLoading: null,\r\n      blodFont: this.platform === 'APP' ? `bold ${fontSize}px Roboto SC` : `bold ${fontSize}px Roboto`,\r\n      normalFont: this.platform === 'APP' ? `normal ${fontSize}px Roboto SC` : `normal ${fontSize}px Roboto`\r\n    };\r\n  },\r\n  methods: {\r\n    // 初始化 canvas\r\n    initCanvas () {\r\n      const canvas = this.$refs.canvas;\r\n      let ctx = null;\r\n      if (this.ctx) {\r\n        ctx = this.ctx;\r\n      } else {\r\n        ctx = canvas.getContext('2d');\r\n        this.ctx = ctx;\r\n      }\r\n      ctx.font = this.normalFont;\r\n\r\n      // 调用 setbodyWidth、clearAllCells 清除上一次生成图表的数据\r\n      this.setbodyWidth();\r\n      this.clearAllCells();\r\n      this.setAllCells(0, true);\r\n      this.setBodyHeight(this.allRows, this.originPoint);\r\n      this.initSize();\r\n      this.setMaxpoint(this.width, this.height, this.scrollerWidth);\r\n      if (this.platform === 'PC') {\r\n        this.resetScrollBar(this.maxPoint, this.bodyWidth, this.bodyHeight, this.fixedWidth);\r\n      }\r\n    },\r\n    // 重新绘制\r\n    rePainted () {\r\n      let items = this.initDisplayItems();\r\n      this.clearPainted();\r\n      this.painted(items);\r\n      return items;\r\n    },\r\n    // 清空画布\r\n    clearPainted () {\r\n      this.ctx && this.ctx.clearRect(0, 0, this.width, this.height);\r\n    },\r\n    // 绘制主驱动方法\r\n    painted ({displayColumns, displayRows, displayCells, displayFixedCells}) {\r\n      const ctx = this.ctx;\r\n      if (!ctx) return;\r\n      ctx.fillStyle = tableColor[this.theme].headerColor; // text color\r\n      ctx.textAlign = 'center';\r\n      ctx.lineWidth = this.lineWidth;\r\n      ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n      ctx.textBaseline = 'middle';\r\n      if (displayCells.length > 0) this.paintBGColor(ctx); // 数值部分整个背景的颜色\r\n      if (this.platform === 'PC') {\r\n        this.paintStripeBGC(ctx, displayCells); // 间隔行的背景颜色\r\n      }\r\n      this.paintBGC(ctx, displayCells);\r\n      if (displayCells.length > 0) this.paintLine(ctx, displayRows, displayColumns); // 画每列之间的分隔线\r\n      this.paintBody(ctx, displayCells); // 画单元格内的文字\r\n      ctx.textAlign = 'center';\r\n      if (!this.oneOption.rowColSwap) this.paintHeader(ctx, displayColumns); // 画表格头部的信息\r\n\r\n      if (this.platform === 'PC') {\r\n        if (displayFixedCells.length > 0 && this.fillWidth === 0) {\r\n          this.paintFixedCells(ctx, displayFixedCells, displayColumns);\r\n        }\r\n      }\r\n\r\n      this.painScroller(ctx, this.scrollerWidth); // 画滚动条\r\n    },\r\n    paintBGColor (ctx) {\r\n      const {p, i, maxPoint, bodyHeight, originPoint} = this;\r\n      ctx.fillStyle = tableColor[this.theme].bodyBGColor;\r\n      let yy = this.oneOption.rowColSwap ? -(originPoint.y + 1) : 0;\r\n      ctx.fillRect(i(0), p(yy), i(maxPoint.x), p(bodyHeight));\r\n    },\r\n    paintLine (ctx, displayRows, displayColumns) {\r\n      const {p, i, maxPoint, rowHeight, serialWidth, bodyHeight, toolbarHeight, originPoint} = this;//eslint-disable-line\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n      ctx.lineWidth = this.lineWidth;\r\n      let yy = this.oneOption.rowColSwap ? -(originPoint.y + 1) : 0;\r\n\r\n      displayColumns.forEach((column, index) => {\r\n        if (!column.fixed && index !== displayColumns.length - 1) {\r\n          ctx.moveTo(p(column.x + column.width) + 0.25 * this.dpr, originPoint.y + yy);\r\n          ctx.lineTo(p(column.x + column.width), i(bodyHeight + yy));\r\n        }\r\n      });\r\n      // 横线\r\n      displayRows.forEach((item) => {\r\n        ctx.moveTo(serialWidth, p(item.y + item.height + yy));\r\n        ctx.lineTo(i(maxPoint.x), p(item.y + item.height + yy));\r\n      });\r\n      ctx.moveTo(serialWidth, p(rowHeight + toolbarHeight + yy));\r\n      ctx.lineTo(i(maxPoint.x), p(rowHeight + toolbarHeight + yy));\r\n\r\n      ctx.stroke();\r\n    },\r\n    // 绘制单元格的背景颜色\r\n    paintCellBGColor (ctx, item, color = '#ffff00') {\r\n      const {x, y, width, height} = item;\r\n      ctx.fillStyle = color;\r\n      ctx.fillRect(x, y, width, height);\r\n    },\r\n    // 绘制数据\r\n    paintBody (ctx, displayCells) {\r\n      const {paintText, i, lineWidth, paintUnderline, originPoint} = this;\r\n      ctx.font = this.normalFont;\r\n      let yy = this.oneOption.rowColSwap ? -(originPoint.y + 1) : 0;\r\n      // for (const rows of displayCells) {\r\n      for (let n = 0; n < displayCells.length; n++) {\r\n        let rows = displayCells[n];\r\n        for (const item of rows) {\r\n          if (!item.fixed || this.fillWidth > 0) {\r\n            if (item.content === 'dontPaintX') {\r\n              ctx.beginPath();\r\n              ctx.strokeStyle = tableColor[this.theme].bodyBGColor;\r\n              ctx.lineWidth = 4 * this.dpr;\r\n              ctx.moveTo(i(item.x + (item.x ? lineWidth : 0)), i(item.y + yy));\r\n              ctx.lineTo(i(item.x + item.width - this.halfLineWidth), i(item.y + yy));\r\n              ctx.stroke();\r\n            } else if (item.content === 'dontPaintY') {\r\n              ctx.beginPath();\r\n              ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n              ctx.lineWidth = 6 * this.dpr;\r\n              ctx.moveTo(i(item.x + this.lineWidth), i(item.y + this.lineWidth + yy));\r\n              if (this.platform === 'APP') {\r\n                ctx.lineTo(i(item.x + this.lineWidth), i((item.y + item.height + yy - 1)));\r\n              } else {\r\n                ctx.lineTo(i(item.x + this.lineWidth), i((item.y + item.height + yy)));\r\n              }\r\n              ctx.stroke();\r\n            } else if (item.content === 'dontPaintY_Swap') {\r\n              ctx.beginPath();\r\n              ctx.lineWidth = 6 * this.dpr;\r\n              let isInTotal = false;\r\n              let rowData = rows[0].rowData;\r\n              for (let key in rowData) {\r\n                if (key !== 'totalLine' && rowData[key].indexOf('总计') >= 0) {\r\n                  isInTotal = true;\r\n                  break;\r\n                }\r\n              }\r\n              if (this.platform === 'APP') {\r\n                ctx.strokeStyle = tableColor[this.theme].bodyBGColor;\r\n                if (isInTotal) ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n                ctx.moveTo(i(item.x + this.lineWidth), i(item.y + this.lineWidth + yy - 1));\r\n                ctx.lineTo(i(item.x + this.lineWidth), i((item.y + item.height + yy - 1)));\r\n              } else {\r\n                ctx.strokeStyle = n % 2 ? tableColor[this.theme].bodyBGColor : tableColor[this.theme].headFillColor; // bug 109794 错误出在这里\r\n                if (isInTotal) ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n                ctx.moveTo(i(item.x + this.lineWidth), i(item.y + this.lineWidth + yy));\r\n                ctx.lineTo(i(item.x + this.lineWidth), i((item.y + item.height + yy)));\r\n              }\r\n              ctx.stroke();\r\n            } else if (item.paintText && item.paintText.length > 0) {\r\n              if (item.cellBgColor && item.cellBgColor.length > 0 && rows[0].content !== '列总计' && rows[0].content !== '小计') {\r\n                item.x++;\r\n                item.y++;\r\n                item.width--;\r\n                item.height--;\r\n                this.paintCellBGColor(ctx, item, item.cellBgColor); // 绘制单元格背景颜色\r\n              }\r\n              // 设置文字颜色\r\n              let tmpColor = tableColor[this.theme].bodyColor;\r\n              if (item.cellFontColor && item.cellFontColor.length > 0 && rows[0].content !== '列总计' && rows[0].content !== '小计') {\r\n                tmpColor = item.cellFontColor;\r\n              }\r\n              // 绘制文字\r\n              ctx.beginPath();\r\n              ctx.fillStyle = tmpColor; // 这里修改交叉表标题下的文字和数值的颜色\r\n              if (item.isX && !(~item.key.indexOf('hangxiaoji') || item.key === 'totalLine')) {\r\n                ctx.textAlign = 'start';\r\n                paintText(ctx, i(item.x + 16 * this.dpr), i(16 * this.dpr + item.y + yy), item.paintText, this.dpr);\r\n              } else {\r\n                ctx.textAlign = 'end';\r\n                paintText(ctx, i(item.x + (item.width - 20 * this.dpr)), i(16 * this.dpr + item.y + yy), item.paintText, this.dpr);\r\n              }\r\n              ctx.stroke();\r\n              // 如果可以跳转，则绘制文字的下划线\r\n              if (item.canJump) {\r\n                ctx.beginPath();\r\n                ctx.strokeStyle = tableColor[this.theme].headerColor;\r\n                if (this.platform === 'APP') {\r\n                  ctx.lineWidth = 1 * this.dpr;\r\n                } else if (this.platform === 'PC') {\r\n                  ctx.lineWidth = this.lineWidth / 8;\r\n                }\r\n                paintUnderline(ctx, this.dpr, item, item.x);\r\n                ctx.stroke();\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    paintStripeBGC (ctx, displayCells) {\r\n      const {i, bodyWidth, originPoint} = this;\r\n      let lineWidth = this.lineWidth;\r\n      ctx.fillStyle = tableColor[this.theme].stripeColor;\r\n      ctx.strokeStyle = tableColor[this.theme].stripeColor;\r\n      let yy = this.oneOption.rowColSwap ? -(originPoint.y) : 0;\r\n      let yushu = this.oneOption.rowColSwap ? 0 : 1;\r\n      ctx.beginPath();\r\n      for (const rows of displayCells) {\r\n        for (const item of rows) {\r\n          if (item.rowIndex % 2 === yushu) {\r\n            if (item.cellIndex >= item.rainbow || ~item.key.indexOf('lishide')) {\r\n              ctx.fillRect(i(item.x + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr) + yy), (item.x + (lineWidth * this.dpr) + bodyWidth), i(item.height - (lineWidth * this.dpr)));\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ctx.stroke();\r\n    },\r\n    paintBGC (ctx, displayCells) {\r\n      const {i, width, originPoint} = this;\r\n      let lineWidth = this.lineWidth;\r\n      ctx.fillStyle = tableColor[this.theme].TotleColor;\r\n      ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n      let yy = this.oneOption.rowColSwap ? -(originPoint.y + 1) : 0;\r\n      ctx.beginPath();\r\n      for (const rows of displayCells) {\r\n        // 行列转制后数值小计背景渲染\r\n        if (this.oneOption.rowColSwap && rows[0].isZongJi) {\r\n          for (let item of rows) {\r\n            if (!item.fixed || this.fillWidth > 0) {\r\n              // if (this.oneOption.rowColSwap && item.content.indexOf('总计') === -1 && item.content !== 'dontPaintY_Swap') {\r\n              if (item.content !== 'dontPaintX') {\r\n                if (this.platform === 'APP') {\r\n                  if (item.x < 0) {\r\n                    ctx.fillRect(i(item.x + (lineWidth)), i(item.y + (lineWidth) + yy), ((lineWidth) + item.width), i(item.height - (lineWidth)));\r\n                  } else {\r\n                    ctx.fillRect(i(item.x + (lineWidth)), i(item.y + (lineWidth) + yy), (item.x + (lineWidth) + width), i(item.height - (lineWidth)));\r\n                  }\r\n                } else if (this.platform === 'PC') {\r\n                  if (item.x < 0) {\r\n                    ctx.fillRect(i(item.x + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr) + yy), ((lineWidth * this.dpr) + item.width), i(item.height - (lineWidth * this.dpr)));\r\n                  } else {\r\n                    ctx.fillRect(i(item.x + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr) + yy), (item.x + (lineWidth * this.dpr) + width), i(item.height - (lineWidth * this.dpr)));\r\n                  }\r\n                }\r\n              }\r\n              // }\r\n            }\r\n          }\r\n        }\r\n        for (const item of rows) {\r\n          if (!item.fixed || this.fillWidth > 0) {\r\n            for (const key in item.rowData) {\r\n              if (item.rowData[key] === '小计' || item.rowData[key] === '列总计' || ~item.key.indexOf('hangxiaoji')) {\r\n                if (item.content !== 'dontPaintX') {\r\n                  if (this.platform === 'APP') {\r\n                    if (item.x < 0) {\r\n                      ctx.fillRect(i(item.x + (lineWidth)), i(item.y + (lineWidth) + yy), ((lineWidth) + item.width), i(item.height - (lineWidth)));\r\n                    } else {\r\n                      ctx.fillRect(i(item.x + (lineWidth)), i(item.y + (lineWidth) + yy), (item.x + (lineWidth) + width), i(item.height - (lineWidth)));\r\n                    }\r\n                  } else if (this.platform === 'PC') {\r\n                    if (item.x < 0) {\r\n                      ctx.fillRect(i(item.x + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr) + yy), ((lineWidth * this.dpr) + item.width), i(item.height - (lineWidth * this.dpr)));\r\n                    } else {\r\n                      ctx.fillRect(i(item.x + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr) + yy), (item.x + (lineWidth * this.dpr) + width), i(item.height - (lineWidth * this.dpr)));\r\n                    }\r\n                  }\r\n                }\r\n              } else if (item.key === 'totalLine') {\r\n                if (this.oneOption.rowColSwap && item.content === '行总计') {\r\n                  if (this.platform === 'APP') {\r\n                    ctx.fillStyle = ctx.strokeStyle = tableColor[this.theme].bodyBGColor;\r\n                  } else {\r\n                    ctx.fillStyle = ctx.strokeStyle = tableColor[this.theme].headFillColor;\r\n                  }\r\n                } else {\r\n                  ctx.fillStyle = ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n                }\r\n                if (this.platform === 'APP') {\r\n                  ctx.fillRect(i(item.x + (lineWidth)), i(item.y + (lineWidth) + yy), (item.x + (lineWidth) + item.width), i(item.height - (lineWidth)));\r\n                } else if (this.platform === 'PC') {\r\n                  ctx.fillRect(i(item.x + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr) + yy), (item.x + (lineWidth * this.dpr) + item.width), i(item.height - (lineWidth * this.dpr)));\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ctx.stroke();\r\n    },\r\n    // 绘制文字（多行）\r\n    paintText (ctx, x, y, row, dpr) {\r\n      for (let b = 0; b < row.length; b += 1) {\r\n        let res = '';\r\n        res = row[b];\r\n        // 行列转置后，调换’行总计‘和’l列总计‘的文字描述\r\n        // if (row[b] === '行总计' && this.oneOption.rowColSwap) {\r\n        //   res = '列总计';\r\n        //   // 维度有字段，数值没有字段\r\n        //   // if (this.dimensionCondition.length > 0 && this.indexCondition.length <= 0) {\r\n        //   //   res = '行总计';\r\n        //   // }\r\n        // } else if (row[b] === '列总计' && this.oneOption.rowColSwap) {\r\n        //   res = '行总计';\r\n        //   // 维度没有字段，数值有字段\r\n        //   // if (this.dimensionCondition.length <= 0 && this.indexCondition.length > 0) {\r\n        //   //   res = '列总计';\r\n        //   // }\r\n        // } else {\r\n        //   res = row[b];\r\n        // }\r\n        ctx.fillText(res, x, y + (b * 18 * dpr));\r\n      }\r\n    },\r\n    // 绘制可下钻底线（多行）\r\n    paintUnderline (ctx, dpr, item, x) {\r\n      let {p, originPoint} = this;\r\n      let yy = this.oneOption.rowColSwap ? -(originPoint.y + 1) : 0;\r\n      for (let b = 0; b < item.paintText.length; b += 1) {\r\n        ctx.moveTo(p(x + 16 * dpr), p(item.y + 25 * dpr + yy) + (b * 18 * dpr));\r\n        ctx.lineTo(p(x + ctx.measureText(item.paintText[b]).width + 16 * dpr), p(item.y + 25 * dpr + yy) + (b * 18 * dpr));\r\n      }\r\n    },\r\n    // 绘制表头\r\n    paintHeader (ctx, displayColumns) {\r\n      const {width, paintHeadWord, toolbarHeight, originPoint, blodFont} = this;\r\n      ctx.fillStyle = tableColor[this.theme].headFillColor;\r\n      ctx.fillRect(0, toolbarHeight, width, originPoint.y);\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n      ctx.font = blodFont;\r\n      ctx.lineWidth = this.lineWidth;\r\n      const newArr = this.getHeaderTree(JSON.parse(JSON.stringify(displayColumns)), {fixed: false});\r\n      for (const column of newArr) {\r\n        if (!column.fixed) {\r\n          ctx.fillStyle = tableColor[this.theme].headerColor;\r\n          paintHeadWord(column, ctx);\r\n        }\r\n      }\r\n      ctx.stroke();\r\n    },\r\n    // 绘制固定列\r\n    paintFixedCells (ctx, displayFixedCells, displayColumns) {\r\n      const {bodyHeight, rowHeight, maxPoint, paintText, p, i, allColumns, fixedColumns, toolbarHeight, Hierarchy, paintHeadWord, blodFont, normalFont, lineWidth, paintUnderline} = this;\r\n      const lastDisplayColumn = displayColumns[displayColumns.length - 1];\r\n      const newArr = this.getHeaderTree(JSON.parse(JSON.stringify(fixedColumns)));\r\n      if (lastDisplayColumn.cellIndex === allColumns.length - 1 - fixedColumns.length) {\r\n        if (lastDisplayColumn.x + lastDisplayColumn.width > maxPoint.x) {\r\n          ctx.shadowColor = tableColor[this.theme].shadowColor;\r\n        }\r\n      } else {\r\n        ctx.shadowColor = tableColor[this.theme].shadowColor;\r\n      }\r\n      ctx.fillStyle = tableColor[this.theme].white;\r\n      ctx.fillRect(p(0 - 1), p(toolbarHeight), i(this.fixedColumnsWidth + 1), i(bodyHeight));\r\n      ctx.restore();\r\n\r\n      let cellX = 0;\r\n      let cellX2 = 0;\r\n      for (const rows of displayFixedCells) {\r\n        let width = 0;\r\n        for (const item of rows) {\r\n          width = item.width;\r\n          ctx.beginPath();\r\n          ctx.fillStyle = tableColor[this.theme].stripeColor;\r\n          ctx.lineWidth = lineWidth;\r\n          ctx.font = normalFont;\r\n          if (item.rowIndex % 2 === 1) {\r\n            if (item.key === item.rowData.stripe || ~item.key.indexOf('lishide')) {\r\n              ctx.fillRect(i(cellX2 + (lineWidth * this.dpr)), i(item.y + (lineWidth * this.dpr)), (this.fixedColumnsWidth - cellX2), i(item.height - (lineWidth * this.dpr)));\r\n            }\r\n          }\r\n          ctx.stroke();\r\n        }\r\n        cellX2 += width;\r\n      }\r\n      for (const rows of displayFixedCells) {\r\n        let width = 0;\r\n        for (const index in rows) {\r\n          let item = rows[index];\r\n          width = item.width;\r\n          ctx.beginPath();\r\n          ctx.lineWidth = lineWidth;\r\n          ctx.font = normalFont;\r\n          ctx.fillStyle = tableColor[this.theme].textColor;\r\n          ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n          ctx.lineWidth = lineWidth;\r\n          ctx.moveTo(p(cellX + width), p(item.y));\r\n          ctx.lineTo(p(cellX + width), p(item.y + item.height));\r\n          ctx.lineTo(p(cellX), p(item.y + item.height));\r\n          ctx.stroke();\r\n\r\n          ctx.fillStyle = tableColor[this.theme].textColor;\r\n          ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n          ctx.lineWidth = lineWidth;\r\n          if (item.content === 'dontPaintX') {\r\n            ctx.beginPath();\r\n            ctx.strokeStyle = tableColor[this.theme].white;\r\n            ctx.lineWidth = 3 * this.dpr;\r\n            ctx.moveTo(i(cellX + (cellX ? lineWidth : 0)), i(item.y));\r\n            ctx.lineTo(i(cellX + width), i(item.y));\r\n            ctx.stroke();\r\n          } else if (item.content === 'dontPaintY') {\r\n            ctx.beginPath();\r\n            ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n            ctx.lineWidth = 6 * this.dpr;\r\n            ctx.moveTo(i(cellX + lineWidth), i(item.y + lineWidth));\r\n            ctx.lineTo(i(cellX + lineWidth), i((item.y + item.height) - lineWidth));\r\n            ctx.stroke();\r\n          } else if (item.paintText && item.paintText.length > 0) {\r\n            ctx.beginPath();\r\n            ctx.fillStyle = tableColor[this.theme].TotleColor;\r\n            ctx.strokeStyle = tableColor[this.theme].TotleColor;\r\n            for (const key in item.rowData) {\r\n              if (item.rowData[key] === '小计' || item.rowData[key] === '列总计') {\r\n                if (item.content !== 'dontPaintX') {\r\n                  ctx.fillRect(i(cellX + lineWidth), i(item.y + lineWidth), (this.fixedColumnsWidth - cellX), i(item.height - lineWidth));\r\n                  if (cellX < 0) {\r\n                    ctx.fillRect(i(cellX + lineWidth), i(item.y + lineWidth), (this.fixedColumnsWidth), i(item.height - lineWidth));\r\n                  }\r\n                }\r\n              } else if (item.key === 'totalLine') {\r\n                ctx.fillRect(i(cellX + lineWidth), i(item.y + lineWidth), (this.fixedColumnsWidth), i(item.height - lineWidth));\r\n              }\r\n            }\r\n            ctx.stroke();\r\n            if (item.cellBgColor && item.cellBgColor.length > 0 && displayFixedCells[0][index].content !== '列总计' && displayFixedCells[0][index].content !== '小计') { // && displayFixedCells[0][index].canJump === undefined) {\r\n              item.x++;\r\n              item.y++;\r\n              item.width--;\r\n              item.height--;\r\n              this.paintCellBGColor(ctx, item, item.cellBgColor); // 绘制单元格背景颜色\r\n            }\r\n            ctx.beginPath();\r\n            // 设置文字颜色\r\n            let tmpColor = tableColor[this.theme].bodyColor;\r\n            if (item.cellFontColor && item.cellFontColor.length > 0 && displayFixedCells[0][index].content !== '列总计' && displayFixedCells[0][index].content !== '小计') { // && displayFixedCells[0][index].canJump === undefined) {\r\n              tmpColor = item.cellFontColor;\r\n            }\r\n            ctx.fillStyle = tmpColor;\r\n            ctx.lineWidth = lineWidth;\r\n            ctx.font = normalFont;\r\n            if (item.isX) {\r\n              ctx.textAlign = 'start';\r\n              paintText(ctx, i(cellX + 16 * this.dpr), i(16 * this.dpr + item.y), item.paintText, this.dpr);\r\n            } else {\r\n              ctx.textAlign = 'end';\r\n              paintText(ctx, i(cellX + (width - 20 * this.dpr)), i(16 * this.dpr + item.y), item.paintText, this.dpr);\r\n            }\r\n            ctx.stroke();\r\n            if (item.canJump) {\r\n              ctx.beginPath();\r\n              ctx.strokeStyle = tableColor[this.theme].headerColor;\r\n              ctx.lineWidth = 1 * this.dpr;\r\n              paintUnderline(ctx, this.dpr, item, cellX);\r\n              ctx.stroke();\r\n            }\r\n          }\r\n          ctx.fillStyle = tableColor[this.theme].textColor;\r\n          ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n          ctx.lineWidth = lineWidth;\r\n        }\r\n        cellX += width;\r\n      }\r\n\r\n      ctx.beginPath();\r\n      ctx.font = blodFont;\r\n      ctx.fillStyle = tableColor[this.theme].headFillColor;\r\n      ctx.fillRect(0, 0, this.fixedColumnsWidth, (Hierarchy + 1) * rowHeight);\r\n      ctx.stroke();\r\n      ctx.textAlign = 'center';\r\n      for (const column of newArr) {\r\n        ctx.beginPath();\r\n\r\n        ctx.fillStyle = tableColor[this.theme].headerColor;\r\n        paintHeadWord(column, ctx);\r\n        ctx.stroke();\r\n      }\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n      ctx.lineWidth = lineWidth;\r\n\r\n      ctx.moveTo(p(this.fixedColumnsWidth), p(0));\r\n      ctx.lineTo(p(this.fixedColumnsWidth), p(this.bodyHeight));\r\n      ctx.stroke();\r\n    },\r\n    // 绘制滚动条\r\n    painScroller (ctx, height) {\r\n      let lineWidth = this.lineWidth;\r\n      const p = this.p;\r\n      ctx.fillStyle = tableColor[this.theme].white;\r\n      ctx.fillRect((this.width - height) + lineWidth, 0, height - lineWidth, this.height);\r\n      ctx.fillRect(0, (this.height - height) + lineWidth, this.width, height - lineWidth);\r\n      ctx.beginPath();\r\n      ctx.lineWidth = lineWidth;\r\n      ctx.strokeStyle = tableColor[this.theme].borderColor;\r\n      ctx.moveTo(p((this.width - height) + lineWidth), p(0));\r\n      ctx.lineTo(p((this.width - height) + lineWidth), p((this.height - height) + lineWidth));\r\n      ctx.lineTo(p(0), p((this.height - height) + lineWidth));\r\n      ctx.fillStyle = tableColor[this.theme].white;\r\n      ctx.fillRect(p((this.width - height) + lineWidth), p((this.height - height) + lineWidth), height - lineWidth, height - lineWidth);\r\n      ctx.stroke();\r\n    },\r\n    // 绘制头部分层\r\n    paintHeadWord (col, ctx) {\r\n      const {paintHeadWord, rowHeight, p, stringsIcon, naturalOrder, DescendingIcon, unfixedIcon, fixedIcon, dpr} = this;\r\n      let sortIcon = naturalOrder;\r\n      const fixedIc = col.fixedIcon ? fixedIcon : unfixedIcon;\r\n      if (col.isSort === 1) {\r\n        sortIcon = DescendingIcon;\r\n      } else if (col.isSort === 2) {\r\n        sortIcon = stringsIcon;\r\n      }\r\n      let title = col.title || '- -';\r\n      if (!col.isX) {\r\n        ctx.fillText(title, p(col.x + (col.width / 2)), p((col.i * rowHeight) + (rowHeight / 2)));\r\n        ctx.moveTo(p(col.x + col.width), p(rowHeight * col.i));\r\n        ctx.lineTo(p(col.x + col.width), p(rowHeight * (col.i + 1)));\r\n        ctx.moveTo(p(col.x), p(rowHeight * (col.i + 1)));\r\n        ctx.lineTo(p(col.x + col.width), p(rowHeight * (col.i + 1)));\r\n        if (col.child && col.child.length > 0) {\r\n          col.child.forEach((element) => {\r\n            paintHeadWord(element, ctx);\r\n          });\r\n        } else {\r\n          if (this.platform === 'PC' && !this.oneOption.rowColSwap) {\r\n            if (col.isSort === 1 || col.isSort === 2) {\r\n              ctx.drawImage(sortIcon, p((col.x + (col.width / 2 + ctx.measureText(title).width / 2))), p((col.i * rowHeight) + (6 * dpr)), (20 * dpr), (20 * dpr));\r\n            }\r\n            if (col.fixedIcon) {\r\n              ctx.drawImage(fixedIc, p((col.x + col.width) - (25 * dpr)), p((col.i * rowHeight) + (6 * dpr)), (20 * dpr), (20 * dpr));\r\n            }\r\n            if (col.isShowIcon) {\r\n              ctx.drawImage(sortIcon, p((col.x + (col.width / 2 + ctx.measureText(title).width / 2))), p((col.i * rowHeight) + (6 * dpr)), (20 * dpr), (20 * dpr));\r\n              ctx.drawImage(fixedIc, p((col.x + col.width) - (25 * dpr)), p((col.i * rowHeight) + (6 * dpr)), (20 * dpr), (20 * dpr));\r\n            }\r\n          } else if (this.platform === 'APP' && !this.oneOption.rowColSwap) {\r\n            ctx.drawImage(sortIcon, p((col.x + (col.width / 2 + ctx.measureText(title).width / 2))), p((col.i * rowHeight) + (6 * dpr)), (20 * dpr), (20 * dpr));\r\n          }\r\n        }\r\n      } else {\r\n        ctx.fillText(title, p(col.x + (col.width / 2)), p((col.i + 1) * (rowHeight / 2)));\r\n        ctx.moveTo(p(col.x + col.width), p(0));\r\n        ctx.lineTo(p(col.x + col.width), p(rowHeight * (col.i + 1)));\r\n        ctx.moveTo(p(col.x), p(rowHeight * (col.i + 1)));\r\n        ctx.lineTo(p(col.x + col.width), p(rowHeight * (col.i + 1)));\r\n        if (col.child && col.child.length > 0) {\r\n          col.child.forEach((element) => {\r\n            paintHeadWord(element, ctx);\r\n          });\r\n        } else {\r\n          if (col.title.indexOf('总计') === -1) {\r\n            if (this.platform === 'PC' && !this.oneOption.rowColSwap) {\r\n              if (col.isSort === 1 || col.isSort === 2) {\r\n                ctx.drawImage(sortIcon, p(col.x + (col.width / 2 + ctx.measureText(title).width / 2)), p(((col.i) * (rowHeight / 2)) + (5 * dpr)), (20 * dpr), (20 * dpr));\r\n              }\r\n              if (col.fixedIcon) {\r\n                ctx.drawImage(fixedIc, p(col.x + col.width - (25 * dpr)), p(((col.i) * (rowHeight / 2)) + (5 * dpr)), (20 * dpr), (20 * dpr));\r\n              }\r\n              if (col.isShowIcon) {\r\n                ctx.drawImage(sortIcon, p(col.x + (col.width / 2 + ctx.measureText(title).width / 2)), p(((col.i) * (rowHeight / 2)) + (5 * dpr)), (20 * dpr), (20 * dpr));\r\n                ctx.drawImage(fixedIc, p((col.x + col.width) - (25 * dpr)), p(((col.i) * (rowHeight / 2)) + (5 * dpr)), (20 * dpr), (20 * dpr));\r\n              }\r\n            } else if (this.platform === 'APP' && !this.oneOption.rowColSwap) {\r\n              ctx.drawImage(sortIcon, p((col.x + col.width / 2 + ctx.measureText(title).width / 2)), p(((col.i) * (rowHeight / 2)) + (5 * dpr)), (20 * dpr), (20 * dpr));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 随机数取 小数 .5 (解决canvas绘制1px线出现模糊)\r\n    p (value) {\r\n      const temp = `${value}`;\r\n      if (temp && temp.indexOf && temp.indexOf('.') === -1) {\r\n        return value + 0.5;\r\n      }\r\n      return value;\r\n    },\r\n    // 小数取整\r\n    i (value) {\r\n      return Math.round(value);\r\n    }\r\n  }\r\n};\r\n","export function throttle (delay, noTrailing, callback, debounceMode) {\r\n  // After wrapper has stopped being called, this timeout ensures that\r\n  // `callback` is executed at the proper times in `throttle` and `end`\r\n  // debounce modes.\r\n  var timeoutID;\r\n\r\n  // Keep track of the last time `callback` was executed.\r\n  var lastExec = 0;\r\n\r\n  // `noTrailing` defaults to falsy.\r\n  if (typeof noTrailing !== 'boolean') {\r\n    debounceMode = callback;\r\n    callback = noTrailing;\r\n    noTrailing = undefined;\r\n  }\r\n\r\n  // The `wrapper` function encapsulates all of the throttling / debouncing\r\n  // functionality and when executed will limit the rate at which `callback`\r\n  // is executed.\r\n  function wrapper () {\r\n    var self = this;\r\n    var elapsed = Number(new Date()) - lastExec;\r\n    var args = arguments;\r\n\r\n    // Execute `callback` and update the `lastExec` timestamp.\r\n    function exec () {\r\n      lastExec = Number(new Date());\r\n      callback.apply(self, args);\r\n    }\r\n\r\n    // If `debounceMode` is true (at begin) this is used to clear the flag\r\n    // to allow future `callback` executions.\r\n    function clear () {\r\n      timeoutID = undefined;\r\n    }\r\n\r\n    if (debounceMode && !timeoutID) {\r\n      // Since `wrapper` is being called for the first time and\r\n      // `debounceMode` is true (at begin), execute `callback`.\r\n      exec();\r\n    }\r\n\r\n    // Clear any existing timeout.\r\n    if (timeoutID) {\r\n      clearTimeout(timeoutID);\r\n    }\r\n\r\n    if (debounceMode === undefined && elapsed > delay) {\r\n      // In throttle mode, if `delay` time has been exceeded, execute\r\n      // `callback`.\r\n      exec();\r\n    } else if (noTrailing !== true) {\r\n      // In trailing throttle mode, since `delay` time has not been\r\n      // exceeded, schedule `callback` to execute `delay` ms after most\r\n      // recent execution.\r\n      //\r\n      // If `debounceMode` is true (at begin), schedule `clear` to execute\r\n      // after `delay` ms.\r\n      //\r\n      // If `debounceMode` is false (at end), schedule `callback` to\r\n      // execute after `delay` ms.\r\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\r\n    }\r\n  }\r\n\r\n  // Return the wrapper function.\r\n  return wrapper;\r\n};\r\n\r\nexport function rowColSwap2 (chartData, condition, setting) {\r\n  let {isDimension, isCompare, isIndex} = condition;\r\n  let xaxis = [];\r\n  let yaxis = [];\r\n  // 如果 x y 轴都没有数据，就 return\r\n  if (chartData.xaxis.length === 0 && chartData.yaxis.length === 0) return {xaxis, yaxis};\r\n  // 给 tmpData 赋值\r\n  let tmpData = null;\r\n  if (chartData.xaxis.length > 0) { // x 轴有数据\r\n    tmpData = chartData.xaxis;\r\n  } else if (chartData.yaxis.length > 0) { // y 轴有数据\r\n    tmpData = chartData.yaxis;\r\n  }\r\n  // 将 tmpData[0] 放入 xaxis 中, 将 tmpData[0].data 放入 yaxis 中\r\n  // xaxis.push({data: [], name: tmpData[0].name, uniqueId: tmpData[0].uniqueId});\r\n  // for (let item of tmpData[0].data) {\r\n  //   yaxis.push({data: [], name: item, uniqueId: tmpData[0].uniqueId});\r\n  // }\r\n  xaxis.push({data: [tmpData[0].name], name: tmpData[0].name, uniqueId: tmpData[0].uniqueId});\r\n  for (let item of tmpData[0].data) {\r\n    yaxis.push({data: [item], name: item, uniqueId: tmpData[0].uniqueId});\r\n  }\r\n  // 给 xaxis[0].data 赋值\r\n  if (chartData.xaxis.length > 0) { // x 轴有数据\r\n    for (let i = 1; i < chartData.xaxis.length; i++) {\r\n      xaxis[0].data.push(chartData.xaxis[i].name);\r\n    }\r\n    for (let item of chartData.yaxis) {\r\n      xaxis[0].data.push(item.name);\r\n    }\r\n  } else if (chartData.yaxis.length > 0) { // y 轴有数据\r\n    for (let i = 1; i < chartData.yaxis.length; i++) {\r\n      xaxis[0].data.push(chartData.yaxis[i].name);\r\n    }\r\n  }\r\n  // 给 yaxis[i].data 赋值\r\n  for (let i = 0; i < yaxis.length; i++) {\r\n    if (chartData.xaxis.length > 0) { // x 轴有数据\r\n      for (let j = 1; j < chartData.xaxis.length; j++) {\r\n        yaxis[i].data.push(chartData.xaxis[j].data[i]);\r\n      }\r\n      for (let item of chartData.yaxis) {\r\n        yaxis[i].data.push(item.data[i]);\r\n      }\r\n    } else if (chartData.yaxis.length > 0) { // y 轴有数据\r\n      for (let j = 1; j < chartData.yaxis.length; j++) {\r\n        yaxis[i].data.push(chartData.yaxis[j].data[i]);\r\n      }\r\n    }\r\n  }\r\n  let isAllDataNull = true;\r\n  for (let item of xaxis) {\r\n    if (item.data.length > 0) {\r\n      isAllDataNull = false;\r\n      break;\r\n    }\r\n  }\r\n  for (let item of yaxis) {\r\n    if (item.data.length > 0) {\r\n      isAllDataNull = false;\r\n      break;\r\n    }\r\n  }\r\n  if (isAllDataNull) {\r\n    for (let item of xaxis) {\r\n      item.data.push('swapNull');\r\n    }\r\n    for (let item of yaxis) {\r\n      item.data.push('swapNull');\r\n    }\r\n  }\r\n\r\n  // 以下是有 对比 和 数值 的情况\r\n  if (!isDimension && isCompare && isIndex) {\r\n    let nameArr = xaxis[0].name.split(':%');\r\n    let objArr = [];\r\n    for (let item of nameArr) {\r\n      objArr.push({data: [], name: item, uniqueId: xaxis[0].uniqueId});\r\n    }\r\n    for (let item of xaxis[0].data) {\r\n      let tArr = item.split(':%');\r\n      for (let i = 0; i < tArr.length; i++) {\r\n        objArr[i].data.push(tArr[i]);\r\n      }\r\n    }\r\n    xaxis = objArr;\r\n  }\r\n  // 以下是有 ‘维度 对比 数值’ 的情况\r\n  if (isDimension && isCompare && isIndex) {\r\n    let nameArr = xaxis[0].name.split(':%');\r\n    let dataArr = [];\r\n    let lengthArr = [];\r\n    let maxLength = 0;\r\n    let objArr = [];\r\n    for (let item of xaxis[0].data) {\r\n      let tmpArr = item.split(':%');\r\n      dataArr.push(tmpArr);\r\n      lengthArr.push(tmpArr.length);\r\n    }\r\n    maxLength = Math.max.apply(null, lengthArr);\r\n    for (let item of dataArr) {\r\n      if (item.length < maxLength) {\r\n        let len = maxLength - item.length;\r\n        for (let i = 0; i < len; i++) {\r\n          // item.push(item[0]);\r\n          item.push('dontPaintY_Swap');\r\n        }\r\n      }\r\n    }\r\n    if (nameArr.length < maxLength) {\r\n      let len = maxLength - nameArr.length;\r\n      for (let j = 0; j < len; j++) {\r\n        nameArr.push(nameArr[0]);\r\n      }\r\n    }\r\n    for (let i = 0; i < maxLength; i++) {\r\n      let tmpArr = [];\r\n      for (let item of dataArr) {\r\n        tmpArr.push(item[i]);\r\n      }\r\n      objArr.push({data: tmpArr, name: nameArr[i], uniqueId: xaxis[0].uniqueId});\r\n    }\r\n    xaxis = objArr;\r\n  }\r\n\r\n  // 数值小计\r\n  if (setting[1].keyOfSubtotalColumn.length > 0) {\r\n    for (let item of setting[1].keyOfSubtotalColumn) {\r\n      for (let i = 0; i < xaxis.length; i++) {\r\n        if (i === 0) {\r\n          xaxis[i].data.push(item + '总计');\r\n        } else {\r\n          xaxis[i].data.push('dontPaintY_Swap');\r\n        }\r\n      }\r\n      for (let iitem of yaxis) {\r\n        let sum = 0;\r\n        // for (let tmp of iitem.data) {\r\n        //   if (isAvailableData(tmp)) {\r\n        //     sum += Number(tmp);\r\n        //   }\r\n        // }\r\n        for (let j = 0; j < iitem.data.length; j++) {\r\n          if (xaxis[0].data[j] === item && isAvailableData(iitem.data[j])) {\r\n            sum += Number(iitem.data[j]);\r\n          }\r\n        }\r\n        iitem.data.push(sum.toString());\r\n      }\r\n    }\r\n  }\r\n\r\n  return {xaxis, yaxis};\r\n}\r\n\r\nfunction isAvailableData (v) {\r\n  let boo = false;\r\n  if (typeof v === 'number') boo = true;\r\n  if (typeof v === 'string') {\r\n    if (!isNaN(parseFloat(v))) boo = true;\r\n  }\r\n  return boo;\r\n};\r\n","import {throttle} from './tools';\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      isFirefox: false,\r\n      throttleHandleResize: null,\r\n      refresh: false,\r\n      dropdownObj: {\r\n        v_show: false,\r\n        top: 0,\r\n        left: 0,\r\n        activeSelect: {}\r\n      }\r\n    };\r\n  },\r\n  created () {\r\n    this.isFirefox = typeof navigator !== 'undefined' && navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  },\r\n  watch: {\r\n    retract () {\r\n      this.handleResize();\r\n    }\r\n  },\r\n  methods: {\r\n    // 预防事件\r\n    preventEvent (event) {\r\n      if (!this.refresh) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n    // 移除全局事件方法\r\n    removeEvent () {\r\n      if (this.platform === 'APP') {\r\n        window.removeEventListener('touchstart', this.handleMousedown, false);\r\n        window.removeEventListener('touchmove', throttle(16, this.handleMousemoveAPP), false);\r\n        window.removeEventListener('touchend', this.handleMouseup, false);\r\n      } else if (this.platform === 'PC') {\r\n        window.removeEventListener('mouseup', this.handleMouseup, false);\r\n      }\r\n      window.removeEventListener('resize', this.handleResize, false);\r\n    },\r\n    // 注册事件\r\n    initEvent () {\r\n      window.addEventListener('resize', this.handleResize, false);\r\n      // this.$refs.canvas.addEventListener('click', this.handleClick, false);\r\n\r\n      if (this.platform === 'APP') {\r\n        this.$refs.canvas.addEventListener('click', this.handleClickAPP, false);\r\n        this.$refs.reference.addEventListener('touchstart', this.handleMousedown, false);\r\n        this.$refs.reference.addEventListener('touchmove', throttle(16, this.handleMousemoveAPP), false);\r\n        window.addEventListener('touchend', this.handleMouseup, false);\r\n        this.$refs.canvas.addEventListener('dblclick', this.doubleHandleClick, false);\r\n        this.$refs.canvas.addEventListener('touchmove', throttle(16, this.handleTouchmove), false);\r\n        this.$refs.canvas.addEventListener('touchstart', this.handleMousedown, false);\r\n      } else if (this.platform === 'PC') {\r\n        this.$refs.canvas.addEventListener('click', this.handleClickPC, false);\r\n        this.$refs.reference.addEventListener('mousedown', this.handleMousedown, false);\r\n        this.$refs.reference.addEventListener('mousemove', throttle(16, this.handleMousemovePC), true);\r\n        window.addEventListener('mouseup', this.handleMouseup, false);\r\n        this.$refs.canvas.addEventListener('mousemove', throttle(16, this.handleMouseOver), false);\r\n        this.$refs.canvas.addEventListener(this.isFirefox ? 'DOMMouseScroll' : 'mousewheel', throttle(16, this.handleWheel));\r\n        this.$refs.canvas.addEventListener('contextmenu', this.handleContextmenu, false);\r\n      }\r\n    },\r\n    handleMousedown (e) {\r\n      if (this.platform === 'APP') {\r\n        if (this.horizontalBar.size) {\r\n          this.horizontalBar.cursorX = e.touches[0].screenX;\r\n        }\r\n        if (this.verticalBar.size) {\r\n          this.verticalBar.cursorY = e.touches[0].screenY;\r\n        }\r\n      }\r\n    },\r\n    handleMouseOver (evt) {\r\n      evt.stopPropagation();\r\n      const x = evt.offsetX * this.dpr;\r\n      const y = evt.offsetY * this.dpr;\r\n      let headColumn = null;\r\n      let bodyColumn = null;\r\n      if (x > this.fixedColumnsWidth) {\r\n        headColumn = this.getHeadWord(x, y, this.displayColumns);\r\n        bodyColumn = this.getDrillObj(x, y, this.displayCells);\r\n      } else {\r\n        headColumn = this.getHeadWord(x, y, this.displayColumns);\r\n        bodyColumn = this.getDrillObj(x, y, this.displayallFixedCells);\r\n      }\r\n      if (headColumn) {\r\n        this.allColumns = this.allColumns.map((v) => {\r\n          if (v.key === headColumn.key) {\r\n            v.isShowIcon = true;\r\n          } else {\r\n            v.isShowIcon = false;\r\n          }\r\n          return v;\r\n        });\r\n        this.fixedColumns = this.fixedColumns.map((v) => {\r\n          if (v.key === headColumn.key) {\r\n            v.isShowIcon = true;\r\n          } else {\r\n            v.isShowIcon = false;\r\n          }\r\n          return v;\r\n        });\r\n        window.requestAnimationFrame(this.rePainted);\r\n      } else {\r\n        this.allColumns = this.allColumns.map((v) => {\r\n          v.isShowIcon = false;\r\n          return v;\r\n        });\r\n        this.fixedColumns = this.fixedColumns.map((v) => {\r\n          v.isShowIcon = false;\r\n          return v;\r\n        });\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n      if (this.$refs.canvas.style.cursor === 'pointer') {\r\n        this.$refs.canvas.style.cursor = 'Default';\r\n      }\r\n      if (bodyColumn && bodyColumn.canJump) {\r\n        if (bodyColumn.content !== '小计' && bodyColumn.content !== '列总计' && bodyColumn.content !== 'dontPaintX' && bodyColumn.content !== 'dontPaintY') {\r\n          this.$refs.canvas.style.cursor = 'pointer';\r\n        }\r\n      }\r\n    },\r\n    handleResize () {\r\n      if (this.throttleHandleResize) {\r\n        clearInterval(this.throttleHandleResize);\r\n      }\r\n      this.throttleHandleResize = setTimeout(() => {\r\n        this.offset.y = 0;\r\n        this.offset.x = 0;\r\n        this.horizontalBar.x = 0;\r\n        this.columns = this.columns.map((v) => {\r\n          v.fixed = false;\r\n          v.fixedIcon = false;\r\n          return v;\r\n        });\r\n        this.setOption(this.option);\r\n        this.throttleHandleResize = null;\r\n      }, 500);\r\n    },\r\n    handleWheel (e) {\r\n      if (e.target.tagName === 'CANVAS') {\r\n        if (!this.isEditing) {\r\n          const {deltaX, deltaY} = e;\r\n          if (Math.abs(deltaX) > Math.abs(deltaY)) {\r\n            const lastScrollX = this.offset.x;\r\n            let maxWidth = 0;\r\n            if (this.fillWidth > 0) {\r\n              maxWidth = this.maxPoint.x;\r\n            } else {\r\n              maxWidth = this.maxPoint.x + this.fixedWidth;\r\n            }\r\n            if (this.offset.x - deltaX > 0) {\r\n              this.offset.x = 0;\r\n            } else if ((this.bodyWidth - maxWidth) + this.offset.x < deltaX) {\r\n              this.offset.x = maxWidth - this.bodyWidth;\r\n              if (maxWidth - this.bodyWidth < 0) {\r\n                this.offset.x = maxWidth - this.bodyWidth;\r\n              } else {\r\n                e.preventDefault();\r\n                e.returnValue = false;\r\n              }\r\n            } else {\r\n              e.preventDefault();\r\n              e.returnValue = false;\r\n              this.offset.x -= deltaX;\r\n            }\r\n            if (lastScrollX !== this.offset.x) {\r\n              window.requestAnimationFrame(this.rePainted);\r\n              this.$emit('scroll');\r\n            }\r\n          } else {\r\n            const lastScrollY = this.offset.y;\r\n            if (lastScrollY - deltaY > 0) {\r\n              this.offset.y = 0;\r\n            } else if ((this.bodyHeight - this.maxPoint.y) + lastScrollY < deltaY) {\r\n              if (this.maxPoint.y - this.bodyHeight < 0) {\r\n                this.offset.y = this.maxPoint.y - this.bodyHeight;\r\n              } else {\r\n                e.preventDefault();\r\n                e.returnValue = true;\r\n              }\r\n            } else {\r\n              e.returnValue = false;\r\n              this.offset.y -= deltaY;\r\n            }\r\n            if (lastScrollY !== this.offset.y) {\r\n              if (this.verticalBar.y + this.verticalBar.size > this.height * 0.8) {\r\n                this.setAllCells(this.data.length);\r\n              }\r\n              window.requestAnimationFrame(this.rePainted);\r\n              this.$emit('scroll');\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handleMousemovePC (evt) {\r\n      evt.stopPropagation();\r\n      if (this.verticalBar.move) {\r\n        const height = this.maxPoint.y - this.verticalBar.size;\r\n        const moveHeight = this.verticalBar.y + (evt.screenY - this.verticalBar.cursorY);\r\n        if (moveHeight > 0 && moveHeight < height) {\r\n          this.verticalBar.y += (evt.screenY - this.verticalBar.cursorY) * this.dpr;\r\n        } else if (moveHeight <= 0) {\r\n          this.verticalBar.y = 0;\r\n        } else {\r\n          this.verticalBar.y = height;\r\n        }\r\n        this.verticalBar.cursorY = evt.screenY;\r\n        this.offset.y = -this.verticalBar.y / this.verticalBar.k;\r\n        if (this.verticalBar.y + this.verticalBar.size > this.height * 0.9) {\r\n          this.setAllCells(this.data.length);\r\n        }\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n      if (this.horizontalBar.move) {\r\n        let width = 0;\r\n        if (this.fillWidth > 0) {\r\n          width = this.maxPoint.x - this.horizontalBar.size;\r\n        } else {\r\n          width = (this.maxPoint.x + this.fixedWidth) - this.horizontalBar.size;\r\n        }\r\n        const moveWidth = this.horizontalBar.x + (evt.screenX - this.horizontalBar.cursorX);\r\n        if (moveWidth > 0 && moveWidth < width) {\r\n          this.horizontalBar.x += (evt.screenX - this.horizontalBar.cursorX) * this.dpr;\r\n        } else if (moveWidth <= 0) {\r\n          this.horizontalBar.x = 0;\r\n        } else {\r\n          this.horizontalBar.x = width;\r\n        }\r\n        this.horizontalBar.cursorX = evt.screenX;\r\n        this.offset.x = -this.horizontalBar.x / this.horizontalBar.k;\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n    },\r\n    handleMousemoveAPP (evt) {\r\n      evt.stopPropagation();\r\n      if (this.verticalBar.move) {\r\n        const height = this.maxPoint.y - this.verticalBar.size;\r\n        const moveHeight = this.verticalBar.y + (evt.touches[0].screenY - this.verticalBar.cursorY);\r\n        if (moveHeight > 0 && moveHeight < height) {\r\n          this.verticalBar.y += (evt.touches[0].screenY - this.verticalBar.cursorY) * this.dpr;\r\n          this.refresh = false;\r\n        } else if (moveHeight <= 0) {\r\n          this.verticalBar.y = 0;\r\n          this.refresh = false;\r\n        } else {\r\n          this.verticalBar.y = height;\r\n          this.refresh = false;\r\n        }\r\n        this.verticalBar.cursorY = evt.touches[0].screenY;\r\n        this.offset.y = -this.verticalBar.y / this.verticalBar.k;\r\n        if (this.verticalBar.y + this.verticalBar.size > this.height * 0.9) {\r\n          this.setAllCells(this.data.length);\r\n        }\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n      if (this.horizontalBar.move) {\r\n        let width = 0;\r\n        if (this.fillWidth > 0) {\r\n          width = this.maxPoint.x - this.horizontalBar.size;\r\n        } else {\r\n          width = (this.maxPoint.x + this.fixedWidth) - this.horizontalBar.size;\r\n        }\r\n        const moveWidth = this.horizontalBar.x + (evt.touches[0].screenX - this.horizontalBar.cursorX);\r\n        if (moveWidth > 0 && moveWidth < width) {\r\n          this.horizontalBar.x += (evt.touches[0].screenX - this.horizontalBar.cursorX) * this.dpr;\r\n        } else if (moveWidth <= 0) {\r\n          this.horizontalBar.x = 0;\r\n        } else {\r\n          this.horizontalBar.x = width;\r\n        }\r\n        this.horizontalBar.cursorX = evt.touches[0].screenX;\r\n        this.offset.x = -this.horizontalBar.x / this.horizontalBar.k;\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n    },\r\n    handleTouchmove (evt) {\r\n      const x = evt.touches[0].screenX;\r\n      const y = evt.touches[0].screenY;\r\n      if (!this.verticalBar.move && this.verticalBar.size > 0) {\r\n        const height = this.maxPoint.y - this.verticalBar.size;\r\n        const moveHeight = this.verticalBar.y - ((y - this.verticalBar.cursorY) * this.dpr * this.verticalBar.k);\r\n        if (moveHeight > 0 && moveHeight < height) {\r\n          this.verticalBar.y = moveHeight;\r\n          this.refresh = false;\r\n        } else if (moveHeight <= 0) {\r\n          this.verticalBar.y = 0;\r\n          this.refresh = true;\r\n        } else {\r\n          this.verticalBar.y = height;\r\n          this.refresh = false;\r\n        }\r\n        this.verticalBar.cursorY = y;\r\n        this.offset.y = -this.verticalBar.y / this.verticalBar.k;\r\n        if (this.verticalBar.y + this.verticalBar.size > this.height * 0.9) {\r\n          this.setAllCells(this.data.length);\r\n        }\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n      if (!this.horizontalBar.move && this.horizontalBar.size > 0) {\r\n        let width = 0;\r\n        if (this.fillWidth > 0) {\r\n          width = this.maxPoint.x - this.horizontalBar.size;\r\n        } else {\r\n          width = (this.maxPoint.x + this.fixedWidth) - this.horizontalBar.size;\r\n        }\r\n        const moveWidth = this.horizontalBar.x - (x - this.horizontalBar.cursorX) * this.dpr * this.horizontalBar.k;\r\n        if (moveWidth > 0 && moveWidth < width) {\r\n          this.horizontalBar.x = moveWidth;\r\n        } else if (moveWidth <= 0) {\r\n          this.horizontalBar.x = 0;\r\n        } else {\r\n          this.horizontalBar.x = width;\r\n        }\r\n        this.horizontalBar.cursorX = x;\r\n        this.offset.x = -this.horizontalBar.x / this.horizontalBar.k;\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n    },\r\n    handleMouseup () {\r\n      this.horizontalBar.move = false;\r\n      this.verticalBar.move = false;\r\n    },\r\n    handleClickAPP (evt) {\r\n      if (this.oneOption.rowColSwap) return;\r\n      const x = evt.offsetX * this.dpr;\r\n      const y = evt.offsetY * this.dpr;\r\n      let headSortIcon = null;\r\n      headSortIcon = this.getSortHeadIcon(x, y, this.displayColumns);\r\n      if (headSortIcon) {\r\n        this.columns = this.columns.map((v) => {\r\n          if (v.key === headSortIcon.key) {\r\n            // if (!v.isSort) {\r\n            if (!v.isSort || v.isSort === 2) {\r\n              v.isSort = 1;\r\n              headSortIcon.isSort = 1;\r\n            } else if (v.isSort === 1) {\r\n              v.isSort = 2;\r\n              headSortIcon.isSort = 2;\r\n            } /* else if (v.isSort === 2) {\r\n                v.isSort = 1;\r\n                headSortIcon.isSort = 1;\r\n              } */\r\n          } else {\r\n            v.isSort = 0;\r\n          }\r\n          return v;\r\n        });\r\n        typeof (this.oneOption.sortCallback) === 'function' && this.oneOption.sortCallback(headSortIcon);\r\n        return;\r\n      }\r\n      let drillObj = null;\r\n      drillObj = this.getDrillObj(x, y, this.displayCells);\r\n      if (drillObj && drillObj.canJump) {\r\n        this.$emit('drill', {demensionId: drillObj.key, value: drillObj.content});\r\n      }\r\n    },\r\n    handleClickPC (evt) {\r\n      if (this.oneOption.rowColSwap) return;\r\n      evt.stopPropagation();\r\n      const x = evt.offsetX * this.dpr;\r\n      const y = evt.offsetY * this.dpr;\r\n      let headSortIcon = null;\r\n      if (x > this.fixedColumnsWidth) {\r\n        headSortIcon = this.getSortHeadIcon(x, y, this.displayColumns, 20 * this.dpr, 25 * this.dpr);\r\n      } else {\r\n        headSortIcon = this.getSortHeadIcon(x, y, this.fixedColumns, 20 * this.dpr, 25 * this.dpr);\r\n      }\r\n      if (headSortIcon && headSortIcon.title && headSortIcon.title.indexOf('总计') >= 0) return;\r\n      if (headSortIcon) {\r\n        this.columns = this.columns.map((v) => {\r\n          if (v.key === headSortIcon.key) {\r\n            if (v.isSort === 1) {\r\n              v.isSort = 2;\r\n              headSortIcon.isSort = 2;\r\n            } else {\r\n              v.isSort = 1;\r\n              headSortIcon.isSort = 1;\r\n            }\r\n          } else {\r\n            v.isSort = 0;\r\n          }\r\n          return v;\r\n        });\r\n        typeof (this.oneOption.sortCallback) === 'function' && this.oneOption.sortCallback(headSortIcon);\r\n      }\r\n      let headFixedIcon = null;\r\n      if (x > this.fixedColumnsWidth) {\r\n        headFixedIcon = this.getFixedHeadIcon(x, y, this.displayColumns, 25 * this.dpr, 25 * this.dpr);\r\n      } else {\r\n        headFixedIcon = this.getFixedHeadIcon(x, y, this.fixedColumns, 25 * this.dpr, 25 * this.dpr);\r\n      }\r\n      if (headFixedIcon && headFixedIcon.title && headFixedIcon.title.indexOf('总计') >= 0) return;\r\n      if (headFixedIcon && this.horizontalBar.size > 0) {\r\n        const index = this.columns.findIndex(v => v.key === headFixedIcon.key);\r\n        if (this.columns[index].fixedIcon) {\r\n          this.columns = this.columns.map((v) => {\r\n            v.fixed = false;\r\n            v.fixedIcon = false;\r\n            return v;\r\n          });\r\n        } else {\r\n          this.columns = this.columns.map((v, i) => {\r\n            v.fixedIcon = false;\r\n            v.fixed = false;\r\n            if (!(i > index)) {\r\n              v.fixed = true;\r\n            }\r\n            return v;\r\n          });\r\n          this.columns[index].fixedIcon = true;\r\n        }\r\n        this.setOption(this.option);\r\n      }\r\n      let drillObj = null;\r\n      if (x > this.fixedColumnsWidth) {\r\n        drillObj = this.getDrillObj(x, y, this.displayCells);\r\n      } else {\r\n        drillObj = this.getDrillObj(x, y, this.displayallFixedCells);\r\n      }\r\n      if (drillObj && drillObj.canJump) {\r\n        this.$emit('drill', {demensionId: drillObj.key, value: drillObj.content});\r\n      }\r\n    },\r\n    doubleHandleClick (evt) {\r\n      if (this.oneOption.rowColSwap) return;\r\n      const x = evt.offsetX * this.dpr;\r\n      const y = evt.offsetY * this.dpr;\r\n      let drillObj = null;\r\n      drillObj = this.getDrillObj(x, y, this.displayCells);\r\n      if (drillObj && drillObj.canJump) {\r\n        this.$emit('drill', {demensionId: drillObj.key, value: drillObj.content});\r\n      }\r\n    },\r\n    handleContextmenu (evt) {\r\n      evt.preventDefault();\r\n      const x = evt.offsetX * this.dpr;\r\n      const y = evt.offsetY * this.dpr;\r\n      let selectedJobNode = this.getDrillObj(x, y, this.displayCells);\r\n      if (selectedJobNode) {\r\n        this.dropdownObj.v_show = true;\r\n        this.dropdownObj.top = y;\r\n        this.dropdownObj.left = x;\r\n        this.dropdownObj.activeSelect = Object.assign({}, selectedJobNode);\r\n      } else {\r\n        closeMenu(this);\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n};\r\nfunction closeMenu (context) {\r\n  context.dropdownObj.v_show = false;\r\n  context.dropdownObj.top = 0;\r\n  context.dropdownObj.left = 0;\r\n}\r\n","export default {\r\n  data () {\r\n    let dpr = window.devicePixelRatio || 1;\r\n    const rowHeight = 30 * dpr;\r\n    const serialWidth = 0;\r\n    const scrollerWidth = 8 * dpr;\r\n    const height = 0;\r\n    let originPointX = serialWidth;\r\n    const toolbarHeight = 0;\r\n    return {\r\n      dpr: window.devicePixelRatio || 1,\r\n      width: 0,\r\n      height,\r\n      rowHeight,\r\n      scrollerWidth,\r\n      fixedWidth: 0,\r\n      fixedColumnsWidth: 0,\r\n      bodyWidth: 0,\r\n      bodyHeight: 0,\r\n      serialWidth,\r\n      fillWidth: 0,\r\n      toolbarHeight,\r\n\r\n      allCells: [],\r\n      displayCells: [],\r\n      allRows: [],\r\n      displayRows: [],\r\n      allColumns: [],\r\n      displayColumns: [],\r\n      displayLayeredColumns: [],\r\n      allFixedCells: [],\r\n      displayallFixedCells: [],\r\n      fixedColumns: [],\r\n\r\n      Hierarchy: 0,\r\n      offset: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      originPoint: {\r\n        x: originPointX,\r\n        y: rowHeight\r\n      },\r\n      maxPoint: {\r\n        x: 0,\r\n        y: height - scrollerWidth\r\n      },\r\n      tempTargetName: ''\r\n    };\r\n  },\r\n  methods: {\r\n    // 计算每列的宽度\r\n    calculationWidth (arr) {\r\n      let {ctx} = this;\r\n      return arr.map((v) => {\r\n        if (typeof v === 'string') {\r\n          // measureText 在画布上输出文本之前，检查字体的宽度\r\n          return this.i((ctx.measureText(v).width)) + (100 * this.dpr);\r\n        }\r\n        return 100 * this.dpr;\r\n      }).sort((a, b) => b - a)[0] || 100;\r\n    },\r\n    // 计算 body 的宽度\r\n    setbodyWidth () {\r\n      if (!this.$refs.grid) return;\r\n\r\n      if (this.platform === 'APP') {\r\n        this.width = ((this.$refs.grid.offsetWidth || this.defaultWidth - 20) - 2) * this.dpr;\r\n        this.height = ((this.$refs.grid.offsetHeight || this.defaultHeight - 20) - 2) * this.dpr;\r\n      } else if (this.platform === 'PC') {\r\n        this.width = (this.$refs.grid.offsetWidth - 2) * this.dpr;\r\n        this.height = (this.$refs.grid.offsetHeight - 2) * this.dpr;\r\n      }\r\n\r\n      this.maxPoint.y = this.height - this.scrollerWidth;\r\n\r\n      this.bodyWidth = this.originPoint.x;\r\n      for (const column of this.columns) {\r\n        this.bodyWidth += this.calculationWidth(column.compare_names);\r\n      }\r\n      this.fillWidth = 0;\r\n      if (this.bodyWidth < this.width - this.scrollerWidth) {\r\n        this.fillWidth = this.columns.length ? (this.width - this.bodyWidth - this.scrollerWidth) / this.columns.length : 0;\r\n        this.bodyWidth = this.width - this.scrollerWidth;\r\n      }\r\n    },\r\n    // 清除所有单元格数据\r\n    clearAllCells () {\r\n      this.data = [];\r\n      this.allCells = [];\r\n      this.allRows = [];\r\n      this.allColumns = [];\r\n      this.allFixedCells = [];\r\n      this.fixedColumns = [];\r\n    },\r\n    // 获取所有单元格\r\n    getAllCellsPC (value, columns, startIndex) {\r\n      this.fixedWidth = 0;\r\n      const {rowHeight, ctx, getTextLine, allRows, allCells, allColumns, fixedColumns} = this;\r\n      let rowIndex = startIndex;\r\n      let targetName = '';\r\n      for (let i = startIndex; i < value.length; i += 1) {\r\n        let item = value[i];\r\n        for (let ii of Object.keys(item)) {\r\n          if (ii.indexOf('lishide') === -1) {\r\n            if (item[ii] !== 'dontPaintX') targetName = item[ii];\r\n            break;\r\n          }\r\n        }\r\n        let maxHeight = rowHeight;\r\n        let cellIndex = 0;\r\n        const cellTemp = [];\r\n        let startX = 0;\r\n        let rainbow = columns.findIndex((e) => e.key === value[i].stripe);\r\n        // for (const column of columns) {\r\n        columns.forEach((column, index) => {\r\n          if (rowIndex === 0) {\r\n            if (column.fixed) {\r\n              fixedColumns.push({\r\n                cellIndex,\r\n                ...column,\r\n                x: startX,\r\n                checked: true,\r\n                canJump: column.canJump,\r\n                fieldId: column.fieldId\r\n              });\r\n              allColumns.push({\r\n                height: rowHeight,\r\n                cellIndex,\r\n                ...column,\r\n                checked: true,\r\n                fieldId: column.fieldId,\r\n                canJump: column.canJump\r\n              });\r\n              startX += column.width;\r\n            } else {\r\n              allColumns.push({\r\n                height: rowHeight,\r\n                cellIndex,\r\n                ...column,\r\n                checked: true,\r\n                canJump: column.canJump,\r\n                fieldId: column.fieldId\r\n              });\r\n            }\r\n          }\r\n          let text = item[column.key];\r\n          let textLine;\r\n          if (text || text === 0 || text === '') {\r\n            if (!this.oneOption.rowColSwap) {\r\n              textLine = getTextLine(ctx, text, column.width, column);\r\n            } else {\r\n              let obj = {isX: column.isX, pres: null};\r\n              // 设置数值显示的格式化信息\r\n              this.indexCondition.forEach((x) => {\r\n                let val;\r\n                if (x.fieldGroup === 6 && !x.aggregatorFlag) {\r\n                  val = `${x.aliasName}`;\r\n                } else {\r\n                  val = `${x.aliasName}(${x.aggregatorName})`;\r\n                }\r\n                if (targetName) {\r\n                  if (targetName.indexOf(val) >= 0) {\r\n                    this.tempTargetName = targetName;\r\n                    // if (Number(text) || text === 0 || text === '0' || text === '0.0') obj.pres = x.numDisplayed;\r\n                    if (Number(text) || parseFloat(text) === 0) obj.pres = x.numDisplayed;\r\n                  }\r\n                } else {\r\n                  // if (Number(text) || text === 0 || text === '0' || text === '0.0') obj.pres = x.numDisplayed;\r\n                  if (this.tempTargetName.indexOf(val) >= 0) {\r\n                    if (Number(text) || parseFloat(text) === 0) obj.pres = x.numDisplayed;\r\n                  }\r\n                }\r\n              });\r\n              if (this.dimensionCondition.length > 0) {\r\n                let isInDim = false;\r\n                for (let dim of this.dimensionCondition) {\r\n                  if (dim.aliasName === column.title || dim.fieldDescription === column.title) {\r\n                    isInDim = true;\r\n                    break;\r\n                  }\r\n                }\r\n                textLine = getTextLine(ctx, text, column.width, obj, isInDim);\r\n              } else {\r\n                if (this.indexCondition.length > 0) {\r\n                  let isInIndex = true;\r\n                  for (let ind of this.indexCondition) {\r\n                    if (columns[0].title.indexOf(ind.aliasName) === -1 && columns[0].title.indexOf(ind.fieldDescription) === -1) {\r\n                    // if (ind.aliasName !== column.title && ind.fieldDescription !== column.title) {\r\n                      isInIndex = false;\r\n                      break;\r\n                    }\r\n                  }\r\n                  if (index >= (columns.length - this.indexCondition.length)) isInIndex = false;\r\n                  textLine = getTextLine(ctx, text, column.width, obj, isInIndex);\r\n                }\r\n              }\r\n            }\r\n\r\n            let textLineCount = 0;\r\n            if (textLine) {\r\n              textLineCount = textLine.length;\r\n            }\r\n            if (textLineCount > 1) {\r\n              if (maxHeight < rowHeight + ((textLineCount - 1) * 18 * this.dpr)) {\r\n                maxHeight = rowHeight + ((textLineCount - 1) * 18 * this.dpr);\r\n              }\r\n            }\r\n          }\r\n\r\n          cellTemp.push({\r\n            width: column.width,\r\n            content: item[column.key],\r\n            key: column.key,\r\n            rowIndex,\r\n            cellIndex,\r\n            rainbow,\r\n            paintText: textLine,\r\n            fixed: column.fixed === true,\r\n            renderText: column.renderText,\r\n            rowData: item,\r\n            pres: column.pres,\r\n            type: column.type,\r\n            isX: column.isX,\r\n            isChangeBgFontColor: true,\r\n            isZongJi: item[column.key].toString().indexOf('总计') >= 0\r\n          });\r\n\r\n          cellIndex += 1;\r\n        });\r\n        this.Hierarchy = Math.max(...allColumns.map(v => v.compare_names.length)) - 1;\r\n        if (cellTemp[0].content !== 'swapNull') {\r\n          allCells.push(cellTemp);\r\n          allRows.push({\r\n            height: maxHeight,\r\n            rowIndex\r\n          });\r\n          rowIndex += 1;\r\n        }\r\n      }\r\n\r\n      for (let item of allCells) {\r\n        let isChangeBgFontColor = true;\r\n        for (let child of item) {\r\n          if (child.content === '小计' || child.content === '列总计') {\r\n            isChangeBgFontColor = false;\r\n            break;\r\n          }\r\n        }\r\n        for (let child of item) {\r\n          child.isChangeBgFontColor = isChangeBgFontColor;\r\n        }\r\n      }\r\n      this.originPoint.y = ((Math.max(...allColumns.map(v => v.compare_names.length))) * rowHeight);\r\n      this.allFixedCells = [];\r\n      if (this.allFixedCells.length === 0) {\r\n        for (const item of fixedColumns) {\r\n          const temp = [];\r\n          let index = 0;\r\n          for (const row of allCells) {\r\n            const cell = row[item.cellIndex];\r\n            temp.push({\r\n              ...cell,\r\n              height: allRows[index].height,\r\n              canJump: item.canJump,\r\n              x: item.x,\r\n              uniqueId: item.uniqueId\r\n            });\r\n            index += 1;\r\n          }\r\n          this.allFixedCells.push(temp);\r\n        }\r\n      }\r\n      this.fixedColumnsWidth = this.getHeaderTree(JSON.parse(JSON.stringify(fixedColumns))).reduce((p, e) => p + e.width, 0);\r\n    },\r\n    // 获取所有单元格\r\n    getAllCellsAPP (value, columns, startIndex) {\r\n      this.fixedWidth = 0;\r\n      const {rowHeight, ctx, getTextLine, allRows, allCells, allColumns} = this;\r\n      let rowIndex = startIndex;\r\n      let targetName = '';\r\n      for (let i = startIndex; i < value.length; i += 1) {\r\n        let item = value[i];\r\n        for (let ii of Object.keys(item)) {\r\n          if (ii.indexOf('lishide') === -1) {\r\n            if (item[ii] !== 'dontPaintX') targetName = item[ii];\r\n            break;\r\n          }\r\n        }\r\n        let maxHeight = rowHeight;\r\n        let cellIndex = 0;\r\n        const cellTemp = [];\r\n        // for (const column of columns) {\r\n        columns.forEach((column, index) => {\r\n          if (rowIndex === 0) {\r\n            allColumns.push({\r\n              height: rowHeight,\r\n              cellIndex,\r\n              ...column,\r\n              checked: true,\r\n              canJump: column.canJump,\r\n              fieldId: column.fieldId\r\n            });\r\n          }\r\n          let text = item[column.key];\r\n          let textLine;\r\n          if (text || text === 0 || text === '') {\r\n            if (!this.oneOption.rowColSwap) {\r\n              textLine = getTextLine(ctx, text, column.width, column);\r\n            } else {\r\n              let obj = {isX: column.isX, pres: null};\r\n              // 设置数值显示的格式化信息\r\n              this.indexCondition.forEach((x) => {\r\n                let val;\r\n                if (x.fieldGroup === 6 && !x.aggregatorFlag) {\r\n                  val = `${x.aliasName}`;\r\n                } else {\r\n                  val = `${x.aliasName}(${x.aggregatorName})`;\r\n                }\r\n                if (targetName) {\r\n                  if (targetName.indexOf(val) >= 0) {\r\n                    // if (Number(text) || text === 0 || text === '0' || text === '0.0') obj.pres = x.numDisplayed;\r\n                    if (Number(text) || parseFloat(text) === 0) obj.pres = x.numDisplayed;\r\n                  }\r\n                } else {\r\n                  // if (Number(text) || text === 0 || text === '0' || text === '0.0') obj.pres = x.numDisplayed;\r\n                  if (Number(text) || parseFloat(text) === 0) obj.pres = x.numDisplayed;\r\n                }\r\n              });\r\n              if (this.dimensionCondition.length > 0) {\r\n                let isInDim = false;\r\n                for (let dim of this.dimensionCondition) {\r\n                  if (dim.aliasName === column.title || dim.fieldDescription === column.title) {\r\n                    isInDim = true;\r\n                    break;\r\n                  }\r\n                }\r\n                textLine = getTextLine(ctx, text, column.width, obj, isInDim);\r\n              } else {\r\n                if (this.indexCondition.length > 0) {\r\n                  let isInIndex = true;\r\n                  for (let ind of this.indexCondition) {\r\n                    if (columns[0].title.indexOf(ind.aliasName) === -1 && columns[0].title.indexOf(ind.fieldDescription) === -1) {\r\n                    // if (ind.aliasName !== column.title && ind.fieldDescription !== column.title) {\r\n                      isInIndex = false;\r\n                      break;\r\n                    }\r\n                  }\r\n                  if (index >= (columns.length - this.indexCondition.length)) isInIndex = false;\r\n                  textLine = getTextLine(ctx, text, column.width, obj, isInIndex);\r\n                }\r\n              }\r\n            }\r\n\r\n            let textLineCount = 0;\r\n            if (textLine) {\r\n              textLineCount = textLine.length;\r\n            }\r\n            if (textLineCount > 1) {\r\n              if (maxHeight < rowHeight + ((textLineCount - 1) * 18 * this.dpr)) {\r\n                maxHeight = rowHeight + ((textLineCount - 1) * 18 * this.dpr);\r\n              }\r\n            }\r\n          }\r\n\r\n          cellTemp.push({\r\n            width: column.width,\r\n            content: item[column.key],\r\n            key: column.key,\r\n            rowIndex,\r\n            cellIndex,\r\n            paintText: textLine,\r\n            fixed: column.fixed === true,\r\n            renderText: column.renderText,\r\n            rowData: item,\r\n            pres: column.pres,\r\n            type: column.type,\r\n            isX: column.isX,\r\n            isChangeBgFontColor: true,\r\n            isZongJi: item[column.key].toString().indexOf('总计') >= 0\r\n          });\r\n\r\n          cellIndex += 1;\r\n        });\r\n        this.Hierarchy = Math.max(...allColumns.map(v => v.compare_names.length)) - 1;\r\n        allCells.push(cellTemp);\r\n        allRows.push({\r\n          height: maxHeight,\r\n          rowIndex\r\n        });\r\n        rowIndex += 1;\r\n      }\r\n      for (let item of allCells) {\r\n        let isChangeBgFontColor = true;\r\n        for (let child of item) {\r\n          if (child.content === '小计' || child.content === '列总计') {\r\n            isChangeBgFontColor = false;\r\n            break;\r\n          }\r\n        }\r\n        for (let child of item) {\r\n          child.isChangeBgFontColor = isChangeBgFontColor;\r\n        }\r\n      }\r\n      this.originPoint.y = ((Math.max(...allColumns.map(v => v.compare_names.length))) * rowHeight);\r\n    },\r\n    initSize () {\r\n      if (this.$refs.grid) {\r\n        if (this.platform === 'APP') {\r\n          this.width = ((this.$refs.grid.offsetWidth || this.defaultWidth - 20) - 2) * this.dpr;\r\n          this.height = ((this.$refs.grid.offsetHeight || this.defaultHeight - 20) - 2) * this.dpr;\r\n        } else if (this.platform === 'PC') {\r\n          this.width = (this.$refs.grid.offsetWidth - 2) * this.dpr;\r\n          this.height = (this.$refs.grid.offsetHeight - 2) * this.dpr;\r\n        }\r\n\r\n        this.originPoint.x = this.serialWidth;\r\n\r\n        this.bodyWidth = this.originPoint.x;\r\n        let columnCount = 0;\r\n        for (const column of this.allColumns) {\r\n          this.bodyWidth += this.calculationWidth(column.compare_names);\r\n          columnCount += 1;\r\n        }\r\n        // 填充宽度\r\n        this.fillWidth = 0;\r\n        if (this.bodyWidth < this.width - this.scrollerWidth) {\r\n          this.fillWidth = columnCount ? (this.width - this.bodyWidth - this.scrollerWidth) / columnCount : 0;\r\n          this.bodyWidth = this.width - this.scrollerWidth;\r\n        }\r\n        this.setBodyHeight(this.allRows, this.originPoint);\r\n        this.setMaxpoint(this.width, this.height, this.scrollerWidth);\r\n        this.resetScrollBar(this.maxPoint, this.bodyWidth, this.bodyHeight, this.fixedWidth);\r\n        window.requestAnimationFrame(this.rePainted);\r\n      }\r\n    },\r\n    // 计算 body 的高度\r\n    setBodyHeight (allRows, {y}) {\r\n      this.bodyHeight = y + this.toolbarHeight;\r\n      for (const row of allRows) {\r\n        this.bodyHeight += row.height;\r\n      }\r\n    },\r\n    setMaxpoint (width, height, scrollerWidth) {\r\n      this.maxPoint.x = width - scrollerWidth;\r\n      this.maxPoint.y = height - scrollerWidth;\r\n    },\r\n    // 设置所有单元格\r\n    setAllCells (startIndex, first = false) {\r\n      let loadNum = 40;\r\n      let maxCeLL = this.allData[0] ? Object.keys(this.allData[0]).length : 0;\r\n\r\n      if (this.allData.length > 200 && maxCeLL < 500 && !first) {\r\n        loadNum = 25;\r\n      } else if (maxCeLL > 500 && !first) {\r\n        loadNum = 10;\r\n      }\r\n\r\n      let maxIndex = startIndex + loadNum > this.allData.length ? this.allData.length : startIndex + loadNum;\r\n\r\n      for (let i = startIndex; i < maxIndex; i += 1) {\r\n        let item = this.allData[i];\r\n        this.data.push(item);\r\n      }\r\n      if (first) {\r\n        this.columns.forEach((v) => {\r\n          v.width = this.calculationWidth(v.compare_names);\r\n        });\r\n      }\r\n\r\n      if (this.platform === 'APP') {\r\n        this.getAllCellsAPP(this.data, this.columns, startIndex);\r\n      } else if (this.platform === 'PC') {\r\n        this.getAllCellsPC(this.data, this.columns, startIndex);\r\n      }\r\n      this.setBodyHeight(this.allRows, this.originPoint);\r\n      this.resetScrollBar(this.maxPoint, this.bodyWidth, this.bodyHeight, this.fixedWidth);\r\n    },\r\n    getHeaderTree (arr, option = {fixed: true}) {\r\n      // 这个方法优化的地方是把递归放入内层   把现有递归里面的判断提取出来\r\n      // 这点地方看的懂看不懂就看缘分吧    也别强行琢磨   我也不太懂\r\n      // 反正就是交叉表表头部分\r\n      if (!this.Hierarchy) {\r\n        return arr.map((v) => {\r\n          v.i = this.Hierarchy;\r\n          return v;\r\n        });\r\n      }\r\n      const headerTree = [];\r\n      const headerTreeIsX = [];\r\n      if (!option.fixed) {\r\n        arr = arr.filter(v => !v.fixed);\r\n      }\r\n      if (arr) {\r\n        arr.forEach((v, i) => {\r\n          v.i = this.Hierarchy;\r\n          let isFirst = true;\r\n          let num = headerTree.length;\r\n          if (v.isX) {\r\n            v.child = [];\r\n            headerTreeIsX.push(v);\r\n            return;\r\n          }\r\n          for (const ii in headerTree) {\r\n            if (headerTree[ii] && headerTree[ii].title === v.compare_names[0] && !headerTree[ii].isX && (headerTree[ii].index + 1 === i)) {\r\n              isFirst = false;\r\n              num = ii;\r\n            }\r\n          }\r\n          if (!isFirst) {\r\n            headerTree[num].width += v.width;\r\n            v.compare_names = v.compare_names.slice(1);\r\n            headerTree[num].i = this.Hierarchy - v.compare_names.length;\r\n            headerTree[num].y = (this.Hierarchy - v.compare_names.length) * this.rowHeight;\r\n            headerTree[num].height = this.rowHeight;\r\n            const obj = {\r\n              width: v.width,\r\n              x: v.x,\r\n              child: [],\r\n              compare_names: v.compare_names,\r\n              i: this.Hierarchy,\r\n              ...v\r\n            };\r\n            headerTree[num].child.push(obj);\r\n            headerTree[num].index = i;\r\n          } else {\r\n            headerTree[num] = {\r\n              width: v.width,\r\n              x: v.x,\r\n              child: [],\r\n              title: v.compare_names[0],\r\n              compare_names: v.compare_names,\r\n              i: (this.Hierarchy - v.compare_names.length) + 1,\r\n              y: ((this.Hierarchy - v.compare_names.length) + 1) * this.rowHeight,\r\n              height: this.rowHeight,\r\n              index: i\r\n            };\r\n\r\n            if (v.compare_names.slice(1).length >= 1) {\r\n              headerTree[num].child = [v];\r\n              headerTree[num].child[0].compare_names = v.compare_names.slice(1);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      headerTree.forEach((e) => {\r\n        if (e.child[0] && e.child[0].compare_names.length > 1) {\r\n          e.child = this.getHeaderTree(e.child);\r\n        }\r\n      });\r\n      return [...headerTreeIsX, ...headerTree];\r\n    },\r\n    // 初始化显示行列\r\n    initDisplayItems () {\r\n      const displayColumns = this.getDisplayColumns();\r\n      const displayRows = this.getDisplayRows();\r\n      const displayCells = this.getDisplayCells(displayRows, displayColumns);\r\n      let displayFixedCells = null;\r\n      if (this.platform === 'PC') {\r\n        displayFixedCells = this.getDisplayFixedCells(displayRows);\r\n      }\r\n      const displayLayeredColumns = this.getHeaderTree(JSON.parse(JSON.stringify(displayColumns)));\r\n      return {displayColumns, displayRows, displayCells, displayFixedCells, displayLayeredColumns};\r\n    },\r\n    getDisplayColumns () {\r\n      const {offset: {x}, originPoint, maxPoint, allColumns, fillWidth, getHeaderTree} = this;\r\n      const temp = [];\r\n      let startX = originPoint.x + x;\r\n      for (const column of allColumns) {\r\n        if (column.checked) {\r\n          const width = column.width + fillWidth;\r\n          if (width + startX > originPoint.x && startX < maxPoint.x) {\r\n            const columnClone = Object.assign({}, column, {x: startX, width});\r\n            temp.push(columnClone);\r\n          }\r\n          startX += width;\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.displayColumns = [...temp];\r\n      }, 0);\r\n      this.displayLayeredColumns = getHeaderTree(JSON.parse(JSON.stringify(this.displayColumns)));\r\n      return temp;\r\n    },\r\n    getDisplayRows () {\r\n      const {offset: {y}, originPoint, maxPoint, allRows, toolbarHeight} = this;\r\n      const temp = [];\r\n      let startY = originPoint.y + y + toolbarHeight;\r\n      for (const row of allRows) {\r\n        if (startY + row.height > originPoint.y + toolbarHeight && startY < maxPoint.y) {\r\n          const rowClone = Object.assign({}, row, {y: startY});\r\n          temp.push(rowClone);\r\n        } else if (startY >= maxPoint.y) {\r\n          break;\r\n        }\r\n        startY += row.height;\r\n      }\r\n      setTimeout(() => {\r\n        this.displayRows = [...temp];\r\n      }, 0);\r\n      return temp;\r\n    },\r\n    getDisplayCells (displayRows, displayColumns) {\r\n      const temp = [];\r\n      const {allCells, fillWidth} = this;\r\n      for (const row of displayRows) {\r\n        const cellTemp = [];\r\n        for (const column of displayColumns) {\r\n          let cell = allCells[row.rowIndex][column.cellIndex];\r\n          const cellClone = Object.assign({}, cell, {\r\n            x: column.x,\r\n            y: row.y,\r\n            width: cell.width + fillWidth,\r\n            height: row.height,\r\n            canJump: column.canJump,\r\n            fieldId: column.fieldId,\r\n            uniqueId: column.uniqueId,\r\n            cellBgColor: '',\r\n            cellFontColor: '',\r\n            isZongJi: allCells[row.rowIndex][0].isZongJi\r\n          });//eslint-disable-line\r\n          if (cellClone.content === '小计' || cellClone.content === '列总计' || cellClone.content === 'dontPaintX' || cellClone.content === 'dontPaintY') {\r\n            cellClone.canJump = false;\r\n          }\r\n          if (cellClone.isChangeBgFontColor && !this.oneOption.rowColSwap) this.dealColorOption(cellClone, this.twoOption, column.compare_values);\r\n          cellTemp.push(cellClone);\r\n        }\r\n        if (cellTemp[0] && cellTemp[0].content !== 'swapNull' && cellTemp[0].content !== 'NaN') {\r\n          temp.push(cellTemp);\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.displayCells = [...temp];\r\n      }, 0);\r\n      return temp;\r\n    },\r\n    getDisplayFixedCells (displayRows) {\r\n      const temp = [];\r\n      const {allFixedCells, fillWidth, displayColumns} = this;\r\n      for (const fixedCell of allFixedCells) {\r\n        const fixedCellTemp = [];\r\n        for (const row of displayRows) {\r\n          const fixed = fixedCell[row.rowIndex];\r\n          const fixedCellClone = Object.assign({}, fixed, {\r\n            y: row.y,\r\n            x: fixed.x,\r\n            width: fixed.width + fillWidth,\r\n            height: row.height,\r\n            canJump: fixed.canJump,\r\n            uniqueId: fixedCell[row.rowIndex].uniqueId,\r\n            cellBgColor: '',\r\n            cellFontColor: ''\r\n          });\r\n          if (fixedCellClone.content === '小计' || fixedCellClone.content === '列总计' || fixedCellClone.content === 'dontPaintX' || fixedCellClone.content === 'dontPaintY') {\r\n            fixedCellClone.canJump = false;\r\n          }\r\n          let name = '';\r\n          let index = 0;\r\n          for (let item of displayColumns) {\r\n            if (item.uniqueId === fixedCellClone.uniqueId) {\r\n              index++;\r\n              if (index === fixedCellClone.cellIndex) {\r\n                name = item.compare_values;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (fixedCellClone.isChangeBgFontColor && !this.oneOption.rowColSwap) this.dealColorOption(fixedCellClone, this.twoOption, name);\r\n          fixedCellTemp.push(fixedCellClone);\r\n        }\r\n        temp.push(fixedCellTemp);\r\n      }\r\n      setTimeout(() => {\r\n        this.displayallFixedCells = [...temp];\r\n      }, 0);\r\n      return temp;\r\n    }\r\n  },\r\n  destroyed () {\r\n    this.allCells = null;\r\n    this.allColumns = null;\r\n    this.allRows = null;\r\n    this.displayCells = null;\r\n    this.displayRows = null;\r\n    this.displayColumns = null;\r\n    this.displayLayeredColumns = null;\r\n    this.allFixedCells = null;\r\n    this.displayallFixedCells = null;\r\n    this.fixedColumns = null;\r\n  }\r\n};\r\n","export default {\r\n  data () {\r\n    return {\r\n      horizontalBar: {\r\n        x: 0,\r\n        size: 0,\r\n        move: false,\r\n        cursorX: 0,\r\n        k: 1\r\n      },\r\n      verticalBar: {\r\n        y: 0,\r\n        size: 0,\r\n        move: false,\r\n        cursorY: 0,\r\n        k: 1\r\n      }\r\n    };\r\n  },\r\n  created () {\r\n    this.$on('scroll', () => {\r\n      this.horizontalBar.x = -parseInt(this.offset.x * this.horizontalBar.k, 10);\r\n      this.verticalBar.y = -parseInt(this.offset.y * this.verticalBar.k, 10);\r\n    });\r\n  },\r\n  methods: {\r\n    scroll (e) {\r\n      e.stopPropagation();\r\n    },\r\n    dragMove (e, type) {\r\n      if (type) {\r\n        if (this.verticalBar.size > 0) {\r\n          this.verticalBar.move = true;\r\n          if (this.platform === 'APP') {\r\n            this.verticalBar.cursorY = e.touches[0].screenY;\r\n          } else if (this.platform === 'PC') {\r\n            this.verticalBar.cursorY = e.screenY;\r\n          }\r\n        }\r\n      } else {\r\n        if (this.horizontalBar.size > 0) {\r\n          this.horizontalBar.move = true;\r\n          if (this.platform === 'APP') {\r\n            this.horizontalBar.cursorX = e.touches[0].screenX;\r\n          } else if (this.platform === 'PC') {\r\n            this.horizontalBar.cursorX = e.screenX;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    resetScrollBar ({x, y}, bodyWidth, bodyHeight, fixedWidth) {\r\n      let width = 0;\r\n      if (this.platform === 'APP') {\r\n        width = x;\r\n      } else if (this.platform === 'PC') {\r\n        if (this.fillWidth > 0) width = x;\r\n        else width = x + fixedWidth;\r\n      }\r\n      if (width === 0) return;\r\n\r\n      let horizontalRatio = width / bodyWidth;\r\n      if (horizontalRatio >= 1) {\r\n        this.horizontalBar.size = 0;\r\n      } else {\r\n        this.horizontalBar.size = width - ((bodyWidth - width) * horizontalRatio);\r\n        if (this.horizontalBar.size < 30) {\r\n          this.horizontalBar.size = 30;\r\n          horizontalRatio = (width - 30) / (bodyWidth - width);\r\n        }\r\n      }\r\n      this.horizontalBar.k = horizontalRatio;\r\n\r\n      let verticalRatio = y / bodyHeight;\r\n      if (verticalRatio > 1) {\r\n        this.verticalBar.size = 0;\r\n      } else {\r\n        this.verticalBar.size = y - ((bodyHeight - y) * verticalRatio);\r\n        if (this.verticalBar.size < 30) {\r\n          this.verticalBar.size = 30;\r\n          verticalRatio = (y - 30) / (bodyHeight - y);\r\n        }\r\n      }\r\n      this.verticalBar.k = verticalRatio;\r\n\r\n      if (width - this.horizontalBar.size < -this.offset.x * this.horizontalBar.k) {\r\n        this.offset.x = width - this.bodyWidth;\r\n      }\r\n      if (this.verticalBar.k > 1) {\r\n        this.offset.y = 0;\r\n      } else if (this.maxPoint.y - this.verticalBar.size < -this.offset.y * this.verticalBar.k) {\r\n        this.offset.y = this.maxPoint.y - this.bodyHeight;\r\n      }\r\n      this.horizontalBar.x = -this.offset.x * this.horizontalBar.k;\r\n      this.verticalBar.y = -this.offset.y * this.verticalBar.k;\r\n    }\r\n  }\r\n};\r\n","/* eslint no-useless-escape: \"off\" */\r\n\r\nexport default {\r\n  methods: {\r\n    getTextLine (ctx, text, width, {isX, pres}, isInDim = false) {\r\n      if (pres && !isInDim) {\r\n        if (text !== '- -') {\r\n          text = this.addingUnit(text, pres.state.unit);\r\n          text = this.fmoney(text, pres.state.dec, pres.state.commas);\r\n          text = text + pres.state.unit;\r\n        }\r\n      }\r\n      const chr = `${text}`.split('');\r\n      let temp = '';\r\n      const row = [];\r\n      for (let a = 0; a < chr.length; a += 1) {\r\n        if (ctx.measureText(temp).width >= width - (36 * this.dpr) + this.fillWidth) {\r\n          row.push(temp);\r\n          temp = '';\r\n        }\r\n        temp += chr[a];\r\n      }\r\n      row.push(temp);\r\n      return row;\r\n    },\r\n    addingUnit (val, unit) {\r\n      let nVal = val;\r\n      if (unit === '万') {\r\n        nVal = val / 10000;\r\n      } else if (unit === '亿') {\r\n        nVal = val / 100000000;\r\n      } else if (unit === 'K') {\r\n        nVal = val / 1000;\r\n      } else if (unit === 'M') {\r\n        nVal = val / 1000000;\r\n      } else if (unit === '%') {\r\n        nVal = val * 100;\r\n      }\r\n      return nVal;\r\n      // let arr = (nVal.toString()).split('.');\r\n      // if (arr.length === 1) {\r\n      //   return Number(arr[0] + '.' + '000000');\r\n      // } else if (arr.length === 2) {\r\n      //   arr[1] += '000000';\r\n      //   arr[1] = arr[1].substring(0, 6);\r\n      //   return Number(arr[0] + '.' + arr[1]);\r\n      // } else {\r\n      //   return Number(nVal).toFixed(6);\r\n      // }\r\n      // return Number(nVal).toFixed(6); // 妈的，坑爹呀\r\n    },\r\n    round (v, e) {\r\n      var t = 1;\r\n      for (;e > 0; t *= 10, e--);\r\n      for (;e < 0; t /= 10, e++);\r\n      return Math.round(v * t) / t;\r\n    },\r\n    fmoney (s = 0, n = 2, f) {\r\n      // s = Number(s).toFixed(6);\r\n      let arr = s.toString().split('.');\r\n      if (arr.length === 2 && arr[1].length > 7) {\r\n        let sub = arr[1].substring(0, 7);\r\n        s = arr[0] + '.' + sub;\r\n      }\r\n      /* eslint no-useless-escape: \"off\" */\r\n      s = parseFloat((s + '').replace(/[^\\d\\.-]/g, ''));//eslint-disable-line\r\n      let flag = s < 0;\r\n      if (flag) s = Math.abs(s);\r\n      s = this.round(s, n);\r\n      if (flag) s = -s;\r\n      if (parseFloat(s) === 0) {\r\n        s = Number(0).toFixed(n);\r\n      }\r\n      var source = s.toString().split('.');// 按小数点分成2部分\r\n      if (source[1]) {\r\n        source[1] = (source[1] + '000000').substring(0, n);\r\n      } else {\r\n        let str = '';\r\n        for (let i = 0; i < n; i++) {\r\n          str += '0';\r\n        }\r\n        source.push(str);\r\n      }\r\n      if (f) source[0] = source[0].replace(new RegExp('(\\\\d)(?=(\\\\d{3})+$)', 'ig'), '$1,');// 只将整数部分进行都好分割\r\n      return n > 0 ? source.join('.') : source[0] + '';// 再将小数部分合并进来\r\n    },\r\n    getHeadWord (x, y, columns) {\r\n      let selectColumn = null;\r\n      const digui = (displayColumns) => {\r\n        for (const column of displayColumns) {\r\n          if (column.child && column.child.length > 0) {\r\n            digui(column.child);\r\n          } else if (x > column.x && x < column.x + column.width && y > (column.isX ? 0 : column.i * this.rowHeight) && y < (column.i + 1) * this.rowHeight) {\r\n            selectColumn = Object.assign({}, column);\r\n          }\r\n        }\r\n      };\r\n      digui(this.getHeaderTree(JSON.parse(JSON.stringify(columns))));\r\n      return selectColumn;\r\n    },\r\n    getFixedHeadIcon (x, y, columns, position, size) {\r\n      let selectColumn = null;\r\n      const digui = (displayColumns) => {\r\n        for (const column of displayColumns) {\r\n          if (column.child && column.child.length > 0) {\r\n            digui(column.child);\r\n          } else if (x > (column.x + column.width) - (position) && x < (column.x + column.width) - (position - size) && y > (column.isX ? 0 : column.i * this.rowHeight) && y < (column.i + 1) * this.rowHeight) {\r\n            selectColumn = Object.assign({}, column);\r\n          }\r\n        }\r\n      };\r\n      digui(this.getHeaderTree(JSON.parse(JSON.stringify(columns))));\r\n      return selectColumn;\r\n    },\r\n    getSortHeadIcon (x, y, columns, size) {\r\n      let selectColumn = null;\r\n      const digui = (displayColumns) => {\r\n        for (const column of displayColumns) {\r\n          if (column.child && column.child.length > 0) {\r\n            digui(column.child);\r\n          } else {\r\n            if (this.platform === 'APP') {\r\n              if (x > column.x && x < column.x + column.width && y > (column.isX ? 0 : column.i * this.rowHeight) && y < (column.i + 1) * this.rowHeight) {\r\n                selectColumn = Object.assign({}, column);\r\n              }\r\n            } else if (this.platform === 'PC') {\r\n              if (x > (column.x + column.width / 2 + this.ctx.measureText(column.title).width / 2) && x < (column.x + (column.width / 2 + this.ctx.measureText(column.title).width / 2) + size) && y > (column.isX ? 0 : column.i * this.rowHeight) && y < (column.i + 1) * this.rowHeight) {\r\n                selectColumn = Object.assign({}, column);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      digui(this.getHeaderTree(JSON.parse(JSON.stringify(columns))));\r\n      return selectColumn;\r\n    },\r\n    getDrillObj (x, y, rows) {\r\n      let yy = this.oneOption.rowColSwap ? -(this.originPoint.y + 1) : 0;\r\n      let obj = null;\r\n      for (const row of rows) {\r\n        for (const column of row) {\r\n          if (x > column.x && x < (column.x + column.width) && y > (column.y + yy) && y < (column.height + column.y + yy)) {\r\n            obj = column;\r\n          }\r\n        }\r\n      }\r\n      return obj;\r\n    },\r\n    // rgb to hex\r\n    rgbToHex (r, g, b) {\r\n      var hex = ((r << 16) | (g << 8) | b).toString(16);\r\n      return '#' + new Array(Math.abs(hex.length - 7)).join('0') + hex;\r\n    },\r\n    // hex to rgb\r\n    hexToRgb (hex) {\r\n      var rgb = [];\r\n      for (var i = 1; i < 7; i += 2) {\r\n        rgb.push(parseInt('0x' + hex.slice(i, i + 2)));\r\n      }\r\n      return rgb;\r\n    },\r\n    // 计算渐变过渡色\r\n    gradient (startColor, endColor, step) {\r\n      // 将 hex 转换为rgb\r\n      let sColor = this.hexToRgb(startColor);\r\n      let eColor = this.hexToRgb(endColor);\r\n\r\n      // 计算R\\G\\B每一步的差值\r\n      let rStep = (eColor[0] - sColor[0]) / step;\r\n      let gStep = (eColor[1] - sColor[1]) / step;\r\n      let bStep = (eColor[2] - sColor[2]) / step;\r\n\r\n      var gradientColorArr = [];\r\n      for (var i = 0; i < step; i++) {\r\n        // 计算每一步的hex值\r\n        gradientColorArr.push(this.rgbToHex(parseInt(rStep * i + sColor[0]), parseInt(gStep * i + sColor[1]), parseInt(bStep * i + sColor[2])));\r\n      }\r\n      return gradientColorArr;\r\n    },\r\n    // 处理交叉表颜色配置\r\n    dealColorOption (cell, option, name = '') {\r\n      if (option.type === 'tableColor') {\r\n        let arr = option.value;\r\n        for (let item of arr) {\r\n          if (cell.uniqueId === item.uniqId) {\r\n            if (item.colorType === '0') { // 单色\r\n              this.dealColorOnly(cell, item);\r\n            } else if (item.colorType === '1') { // 色阶\r\n              let min = 0;\r\n              let max = 0;\r\n              for (let color of this.colorStepConfig) {\r\n                if (color.uniqueId === item.uniqId) {\r\n                  min = color.min;\r\n                  max = color.max;\r\n                  break;\r\n                }\r\n              }\r\n              this.dealColorStep(cell, item, min, max);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 处理单色\r\n    dealColorOnly (cell, item) {\r\n      let fun = (cell, tmp) => {\r\n        cell.cellBgColor = tmp.color.bgColor;\r\n        cell.cellFontColor = tmp.color.fontColor;\r\n      };\r\n      if (cell.content === '- -') {\r\n        for (let i = 0; i < item.color.length; i++) {\r\n          let tmp = item.color[i];\r\n          if (tmp.compare === 2) { // 不等于\r\n            fun(cell, tmp);\r\n          }\r\n        }\r\n      }\r\n      let num = Number(cell.content);\r\n      if (num !== 0 && !num) return;\r\n      for (let i = 0; i < item.color.length; i++) {\r\n        let tmp = item.color[i];\r\n        switch (tmp.compare) {\r\n          case 0: // 介于\r\n            if (num >= tmp.min && num <= tmp.max) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n          case 1: // 等于\r\n            if (num === tmp.min) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n          case 2: // 不等于\r\n            if (num !== tmp.min) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n          case 3: // 大于\r\n            if (num > tmp.min) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n          case 4: // 大于等于\r\n            if (num >= tmp.min) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n          case 5: // 小于\r\n            if (num < tmp.min) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n          case 6: // 小于等于\r\n            if (num <= tmp.min) {\r\n              fun(cell, tmp);\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    },\r\n    // 处理色阶\r\n    dealColorStep (cell, item, min, max) {\r\n      let num = Number(cell.content);\r\n      if (num === 0 || num) {\r\n        if (max === min) {\r\n          cell.cellBgColor = item.color[0].color.startColor;\r\n        } else {\r\n          let p = (num - min) / (max - min);\r\n          let colorArr = this.gradient(item.color[0].color.startColor, item.color[0].color.endColor, 10);\r\n          cell.cellBgColor = p === 1 ? item.color[0].color.endColor : colorArr[Math.floor(p * 10)];\r\n        }\r\n        cell.cellFontColor = item.color[0].color.fontColor;\r\n      }\r\n    }\r\n  }\r\n};\r\n","import painted from './grid/painted';\r\nimport events from './grid/events';\r\nimport calculate from './grid/calculate';\r\nimport scroller from './grid/scroller';\r\nimport utils from './grid/utils';\r\n\r\nexport default {\r\n  painted,\r\n  events,\r\n  calculate,\r\n  scroller,\r\n  utils\r\n}"],"sourceRoot":""}